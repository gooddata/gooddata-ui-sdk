{
    "openapi": "3.0.1",
    "info": {
        "title": "OpenAPI definition",
        "version": "v0"
    },
    "servers": [
        {
            "url": "/",
            "description": "GoodData.CN endpoint"
        }
    ],
    "tags": [
        {
            "name": "actions",
            "description": "| execution of some form of computation (RPC over JSON)"
        }
    ],
    "paths": {
        "/api/actions/workspaces/{workspaceId}/execution/afm/execute": {
            "post": {
                "tags": ["actions"],
                "summary": "Executes analytical request and returns link to the result",
                "description": "AFM is a combination of attributes, measures and filters that describe a query you want to execute.",
                "operationId": "computeReport",
                "parameters": [
                    {
                        "name": "workspaceId",
                        "in": "path",
                        "description": "Workspace identifier",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "pattern": "^[.A-Za-z0-9_-]{1,255}$"
                        }
                    },
                    {
                        "name": "skip-cache",
                        "in": "header",
                        "description": "Ignore all caches during execution of current request.",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "default": false
                        }
                    },
                    {
                        "name": "timestamp",
                        "in": "header",
                        "required": false,
                        "example": "2020-06-03T10:15:30+01:00",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AfmExecution"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "AFM Execution response with links to the result and server-enhanced dimensions from the original request.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/AfmExecutionResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/actions/workspaces/{workspaceId}/execution/afm/explain": {
            "post": {
                "tags": ["actions"],
                "summary": "AFM explain resource.",
                "description": "The resource provides static structures needed for investigation of a problem with given AFM. The structures are MAQL (internal form of AFM), and logical and physical models (LDM and PDM) of corresponding workspace.",
                "operationId": "explainAFM",
                "parameters": [
                    {
                        "name": "workspaceId",
                        "in": "path",
                        "description": "Workspace identifier",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "pattern": "^[.A-Za-z0-9_-]{1,255}$"
                        }
                    },
                    {
                        "name": "explainType",
                        "in": "query",
                        "description": "Requested explain type (LDM, PDM or MAQL). If not specified all types are bundled in a ZIP archive.",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AfmExecution"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "ZIP archive with MAQL, LDM and PDM files.",
                        "content": {
                            "application/zip": {
                                "schema": {
                                    "type": "string",
                                    "format": "binary"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/actions/workspaces/{workspaceId}/execution/afm/computeValidObjects": {
            "post": {
                "tags": ["actions"],
                "summary": "Valid objects",
                "description": "Returns list containing attributes, facts, or measures, which can be added to given AFM while still keeping it computable.",
                "operationId": "computeValidObjects",
                "parameters": [
                    {
                        "name": "workspaceId",
                        "in": "path",
                        "description": "Workspace identifier",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "pattern": "^[.A-Za-z0-9_-]{1,255}$"
                        }
                    }
                ],
                "requestBody": {
                    "content": {
                        "application/json": {
                            "schema": {
                                "$ref": "#/components/schemas/AfmValidObjectsQuery"
                            }
                        }
                    },
                    "required": true
                },
                "responses": {
                    "200": {
                        "description": "List of attributes, facts and measures valid with respect to given AFM.",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "$ref": "#/components/schemas/AfmValidObjectsResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/actions/workspaces/{workspaceId}/execution/collectLabelElements": {
            "get": {
                "tags": ["actions"],
                "summary": "Listing of label values.",
                "description": "Returns paged list of elements (values) of given label satisfying given filtering criteria.",
                "operationId": "computeLabelElements",
                "parameters": [
                    {
                        "name": "workspaceId",
                        "in": "path",
                        "description": "Workspace identifier",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "pattern": "^[.A-Za-z0-9_-]{1,255}$"
                        }
                    },
                    {
                        "name": "label",
                        "in": "query",
                        "description": "Requested label.",
                        "required": true,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "sortOrder",
                        "in": "query",
                        "description": "Sort order of returned items.\nItems are sorted by ```label``` title.",
                        "required": false,
                        "schema": {
                            "type": "string",
                            "enum": ["ASC", "DESC"],
                            "default": "ASC"
                        }
                    },
                    {
                        "name": "complementFilter",
                        "in": "query",
                        "description": "Inverse filter:\n* ```false``` - return items matching ```patternFilter``` and ```exactFilter```\n* ```true``` - return items not matching ```patternFilter``` and ```exactFilter```",
                        "required": false,
                        "schema": {
                            "type": "boolean",
                            "default": false
                        }
                    },
                    {
                        "name": "patternFilter",
                        "in": "query",
                        "description": "Return only items, whose ```label``` title case insensitively contains ```filter``` as substring.",
                        "required": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "exactFilter",
                        "in": "query",
                        "description": "Return only items, whose ```label``` title exactly matches one of ```filter```.",
                        "required": false,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "description": "Request page with this offset.",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "format": "int32",
                            "default": 0
                        }
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "description": "Return only this number of items.",
                        "required": false,
                        "schema": {
                            "type": "integer",
                            "format": "int32",
                            "default": 1000
                        }
                    },
                    {
                        "name": "dataSamplingPercentage",
                        "in": "query",
                        "description": "Specifies the percentage of rows from fact datasets to use during computation. This feature is available only for workspaces that use a Vertica Data Source without table views.",
                        "required": false,
                        "schema": {
                            "type": "number",
                            "minimum": 0,
                            "exclusiveMinimum": true,
                            "maximum": 100,
                            "exclusiveMaximum": true
                        }
                    },
                    {
                        "name": "skip-cache",
                        "description": "Ignore all caches during execution of current request.",
                        "in": "header",
                        "required": false,
                        "schema": {
                            "type": "boolean"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "List of label values.",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "$ref": "#/components/schemas/ElementsResponse"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/actions/workspaces/{workspaceId}/execution/afm/execute/result/{resultId}": {
            "get": {
                "tags": ["actions"],
                "summary": "Get a single execution result",
                "description": "Gets a single execution result.",
                "operationId": "retrieveResult",
                "parameters": [
                    {
                        "name": "workspaceId",
                        "in": "path",
                        "description": "Workspace identifier",
                        "required": true,
                        "schema": {
                            "type": "string",
                            "pattern": "^[.A-Za-z0-9_-]{1,255}$"
                        }
                    },
                    {
                        "name": "resultId",
                        "in": "path",
                        "description": "Result ID",
                        "required": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "a9b28f9dc55f37ea9f4a5fb0c76895923591e781"
                    },
                    {
                        "name": "offset",
                        "in": "query",
                        "description": "Request page with these offsets. Format is offset=1,2,3,... - one offset for each dimensions in ResultSpec from originating AFM.",
                        "required": false,
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "integer",
                                "format": "int32"
                            },
                            "default": []
                        },
                        "example": "offset=1,10"
                    },
                    {
                        "name": "limit",
                        "in": "query",
                        "description": "Return only this number of items. Format is limit=1,2,3,... - one limit for each dimensions in ResultSpec from originating AFM.",
                        "required": false,
                        "style": "form",
                        "explode": false,
                        "schema": {
                            "type": "array",
                            "items": {
                                "type": "integer",
                                "format": "int32"
                            },
                            "default": []
                        },
                        "example": "limit=1,10"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Execution result was found and returned.",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "$ref": "#/components/schemas/ExecutionResult"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Limit and/or offset query parameters (paging) were invalid.",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorMessage"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Execution result was not found.",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorMessage"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "The result processing has failed unexpectedly.",
                        "content": {
                            "*/*": {
                                "schema": {
                                    "$ref": "#/components/schemas/ErrorMessage"
                                }
                            }
                        }
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "AFM": {
                "required": ["attributes", "filters", "measures"],
                "type": "object",
                "description": "Top level executable entity. Combination of [A]ttributes, [F]ilters & [M]etrics.",
                "properties": {
                    "attributes": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/AttributeItem"
                        }
                    },
                    "filters": {
                        "type": "array",
                        "description": "Various filter types to filter execution result.",
                        "items": {
                            "$ref": "#/components/schemas/FilterDefinition"
                        }
                    },
                    "measures": {
                        "type": "array",
                        "description": "Measures to be computed.",
                        "items": {
                            "$ref": "#/components/schemas/MeasureItem"
                        }
                    },
                    "auxMeasures": {
                        "type": "array",
                        "description": "Measures to be referenced from other AFM objects (e.g. filters) but not included in the result.",
                        "items": {
                            "$ref": "#/components/schemas/MeasureItem"
                        }
                    }
                }
            },
            "AfmExecution": {
                "required": ["execution", "resultSpec"],
                "type": "object",
                "properties": {
                    "execution": {
                        "$ref": "#/components/schemas/AFM"
                    },
                    "resultSpec": {
                        "$ref": "#/components/schemas/ResultSpec"
                    },
                    "settings": {
                        "$ref": "#/components/schemas/ExecutionSettings"
                    }
                }
            },
            "ArithmeticMeasureDefinition": {
                "required": ["arithmeticMeasure"],
                "type": "object",
                "description": "Measure representing arithmetics between measures.",
                "properties": {
                    "arithmeticMeasure": {
                        "required": ["measureIdentifiers", "operator"],
                        "type": "object",
                        "properties": {
                            "measureIdentifiers": {
                                "type": "array",
                                "description": "List of measures to apply arithmetic operation by chosen operator.",
                                "items": {
                                    "$ref": "#/components/schemas/LocalIdentifier"
                                }
                            },
                            "operator": {
                                "type": "string",
                                "description": "Arithmetic operator describing operation between measures.",
                                "example": "SUM",
                                "enum": ["SUM", "DIFFERENCE", "MULTIPLICATION", "RATIO", "CHANGE"]
                            }
                        }
                    }
                }
            },
            "AttributeItem": {
                "required": ["label", "localIdentifier"],
                "type": "object",
                "properties": {
                    "localIdentifier": {
                        "type": "string",
                        "pattern": "^[.A-Za-z0-9_-]+$"
                    },
                    "label": {
                        "$ref": "#/components/schemas/AfmObjectIdentifier"
                    }
                }
            },
            "Dimension": {
                "required": ["itemIdentifiers"],
                "type": "object",
                "description": "Single dimension description.",
                "properties": {
                    "itemIdentifiers": {
                        "type": "array",
                        "description": "List of items in current dimension. Can reference 'localIdentifier' from 'AttributeItem', or special pseudo attribute \"measureGroup\" representing list of measures.",
                        "example": "[ \"attribute1\", \"measureGroup\"]",
                        "items": {
                            "type": "string"
                        }
                    },
                    "localIdentifier": {
                        "type": "string",
                        "pattern": "^[.A-Za-z0-9_-]+$",
                        "description": "Dimension identification within requests. Other entities can reference this dimension by this value.",
                        "example": "firstDimension"
                    },
                    "sorting": {
                        "type": "array",
                        "description": "List of sorting rules. From most relevant to least relevant (less relevant rule is applied, when more relevant rule compares items as equal).",
                        "items": {
                            "oneOf": [
                                {
                                    "$ref": "#/components/schemas/SortKeyAttribute"
                                },
                                {
                                    "$ref": "#/components/schemas/SortKeyValue"
                                }
                            ]
                        }
                    }
                }
            },
            "GrandTotal": {
                "required": ["localIdentifier", "function", "includedDimensions"],
                "type": "object",
                "description": "Definition of a grand total. Grand total data will be computed into a separate section of the result structure so that client has more options how to visualize them.",
                "properties": {
                    "localIdentifier": {
                        "type": "string",
                        "description": "Grand total identification within this request. The corresponding data in the result are expected to be matched using this identifier.",
                        "example": "firstGrandTotal"
                    },
                    "function": {
                        "type": "string",
                        "description": "Aggregation function for grand total computation.",
                        "example": "SUM"
                    },
                    "includedDimensions": {
                        "type": "object",
                        "description": "Mapping specifying dimensions on which this grand total will be computed. Dimensions are referenced via their localIdentifiers. Optionally one can specify also the values (properties) of the dimensions' attributes (see ```dimensionAttributesValues```).",
                        "example": "{\"dim1\": null, \"dim2\": {\"dimensionAttributesValues\": {\"measureGroup\": [\"m1\"]}}",
                        "additionalProperties": {
                            "$ref": "#/components/schemas/IncludedDimensionProps"
                        }
                    }
                }
            },
            "IncludedDimensionProps": {
                "required": ["dimensionAttributesValues"],
                "type": "object",
                "nullable": true,
                "properties": {
                    "dimensionAttributesValues": {
                        "type": "object",
                        "description": "Allows to customize for which attribute values the grand total will be computed. If the values for particular attribute are not specified then the totals for all values are computed. Note that this also covers the case of individual measures (treated as values of the \"measureGroup\" pseudo attribute).",
                        "example": "{\"measureGroup\": [\"m1\"], \"status\": [\"Lost\", \"Won\"]}",
                        "additionalProperties": {
                            "type": "array",
                            "items": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "TotalFunction": {
                "type": "string",
                "description": "Sorting elements - ascending/descending order.",
                "enum": ["SUM", "MIN", "MAX", "AVG", "MED"]
            },
            "SortKeyAttribute": {
                "required": ["attribute"],
                "type": "object",
                "description": "Sorting rule for sorting by attribute value in current dimension.",
                "properties": {
                    "attribute": {
                        "required": ["attributeIdentifier"],
                        "type": "object",
                        "properties": {
                            "direction": {
                                "$ref": "#/components/schemas/SortDirection"
                            },
                            "attributeIdentifier": {
                                "type": "string",
                                "description": "One of the 'Dimension.itemIdentifiers' referencing the attribute which should be used for sorting the dimension.s",
                                "example": "attribute1"
                            }
                        }
                    }
                }
            },
            "SortKeyValue": {
                "required": ["value"],
                "type": "object",
                "properties": {
                    "value": {
                        "required": ["dataColumnLocators"],
                        "type": "object",
                        "properties": {
                            "direction": {
                                "$ref": "#/components/schemas/SortDirection"
                            },
                            "dataColumnLocators": {
                                "type": "object",
                                "description": "Mapping from dimensions to data column locators. Locators for each dimension opposite to the sorted one must be specified.",
                                "example": "{\"dim2\": {\"status\": \"lost\", \"measureGroup\": \"m1\"}}",
                                "additionalProperties": {
                                    "$ref": "#/components/schemas/DataColumnLocator"
                                }
                            }
                        }
                    }
                }
            },
            "SortDirection": {
                "type": "string",
                "description": "Sorting elements - ascending/descending order.",
                "enum": ["ASC", "DESC"]
            },
            "DataColumnLocator": {
                "type": "object",
                "description": "Mapping from dimension items (either 'localIdentifier' from 'AttributeItem', or \"measureGroup\") to their respective values. This effectively specifies the path (location) of the data column used for sorting. Therefore values for all dimension items must be specified.",
                "example": "{\"status\": \"lost\", \"measureGroup\": \"m1\"}",
                "additionalProperties": {
                    "type": "string"
                }
            },
            "CommonFilter": {
                "type": "object",
                "properties": {
                    "applyOnResult": {
                        "type": "boolean",
                        "description": "Force the filter to be applied on the result (true) or source data (false). If not specified at all the default behaviour specific to each type of filter is used."
                    }
                }
            },
            "FilterDefinition": {
                "type": "object",
                "description": "Abstract filter definition type",
                "oneOf": [
                    {
                        "$ref": "#/components/schemas/AttributeFilter"
                    },
                    {
                        "$ref": "#/components/schemas/MeasureValueFilter"
                    },
                    {
                        "$ref": "#/components/schemas/RankingFilter"
                    },
                    {
                        "$ref": "#/components/schemas/DateFilter"
                    },
                    {
                        "$ref": "#/components/schemas/InlineFilterDefinition"
                    }
                ]
            },
            "CommonAttributeFilter": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/CommonFilter"
                    },
                    {
                        "required": ["label"],
                        "type": "object",
                        "properties": {
                            "label": {
                                "$ref": "#/components/schemas/Identifier"
                            }
                        }
                    }
                ]
            },
            "AttributeFilter": {
                "type": "object",
                "description": "Abstract filter definition type attributes",
                "oneOf": [
                    {
                        "$ref": "#/components/schemas/PositiveAttributeFilter"
                    },
                    {
                        "$ref": "#/components/schemas/NegativeAttributeFilter"
                    }
                ]
            },
            "PositiveAttributeFilter": {
                "required": ["positiveAttributeFilter"],
                "type": "object",
                "description": "Filter able to limit element values by label and related selected elements.",
                "properties": {
                    "positiveAttributeFilter": {
                        "$ref": "#/components/schemas/PositiveAttributeFilterBody"
                    }
                }
            },
            "PositiveAttributeFilterBody": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/CommonAttributeFilter"
                    },
                    {
                        "required": ["in"],
                        "type": "object",
                        "properties": {
                            "in": {
                                "$ref": "#/components/schemas/AttributeFilterElements"
                            }
                        }
                    }
                ]
            },
            "NegativeAttributeFilter": {
                "required": ["negativeAttributeFilter"],
                "type": "object",
                "description": "Filter able to limit element values by label and related selected negated elements.",
                "properties": {
                    "negativeAttributeFilter": {
                        "$ref": "#/components/schemas/NegativeAttributeFilterBody"
                    }
                }
            },
            "NegativeAttributeFilterBody": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/CommonAttributeFilter"
                    },
                    {
                        "required": ["notIn"],
                        "type": "object",
                        "properties": {
                            "notIn": {
                                "$ref": "#/components/schemas/AttributeFilterElements"
                            }
                        }
                    }
                ]
            },
            "AbstractMeasureValueFilter": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/CommonFilter"
                    },
                    {
                        "type": "object",
                        "properties": {
                            "dimensionality": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/Identifier"
                                }
                            }
                        }
                    }
                ]
            },
            "CommonMeasureValueFilter": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/AbstractMeasureValueFilter"
                    },
                    {
                        "required": ["measure"],
                        "type": "object",
                        "properties": {
                            "measure": {
                                "$ref": "#/components/schemas/Identifier"
                            },
                            "treatNullValuesAs": {
                                "type": "number",
                                "example": 0
                            }
                        }
                    }
                ]
            },
            "MeasureValueFilter": {
                "type": "object",
                "description": "Abstract filter definition type filtering by the value of the measure.",
                "oneOf": [
                    {
                        "$ref": "#/components/schemas/ComparisonMeasureValueFilter"
                    },
                    {
                        "$ref": "#/components/schemas/RangeMeasureValueFilter"
                    }
                ]
            },
            "ComparisonMeasureValueFilter": {
                "required": ["comparisonMeasureValueFilter"],
                "type": "object",
                "description": "Filter the result by comparing specified measure to given constant value, using given comparison operator.",
                "properties": {
                    "comparisonMeasureValueFilter": {
                        "$ref": "#/components/schemas/ComparisonMeasureValueFilterBody"
                    }
                }
            },
            "ComparisonMeasureValueFilterBody": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/CommonMeasureValueFilter"
                    },
                    {
                        "required": ["operator", "value"],
                        "type": "object",
                        "properties": {
                            "operator": {
                                "type": "string",
                                "example": "GREATER_THAN",
                                "enum": [
                                    "GREATER_THAN",
                                    "GREATER_THAN_OR_EQUAL_TO",
                                    "LESS_THAN",
                                    "LESS_THAN_OR_EQUAL_TO",
                                    "EQUAL_TO",
                                    "NOT_EQUAL_TO"
                                ]
                            },
                            "value": {
                                "type": "number",
                                "example": 1327
                            }
                        }
                    }
                ]
            },
            "RangeMeasureValueFilter": {
                "required": ["rangeMeasureValueFilter"],
                "type": "object",
                "description": "Filter the result by comparing specified measure to given range of values.",
                "properties": {
                    "rangeMeasureValueFilter": {
                        "$ref": "#/components/schemas/RangeMeasureValueFilterBody"
                    }
                }
            },
            "RangeMeasureValueFilterBody": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/CommonMeasureValueFilter"
                    },
                    {
                        "required": ["from", "operator", "to"],
                        "type": "object",
                        "properties": {
                            "operator": {
                                "type": "string",
                                "example": "BETWEEN",
                                "enum": ["BETWEEN", "NOT_BETWEEN"]
                            },
                            "from": {
                                "type": "number",
                                "example": 100
                            },
                            "to": {
                                "type": "number",
                                "example": 999
                            }
                        }
                    }
                ]
            },
            "RankingFilter": {
                "required": ["rankingFilter"],
                "type": "object",
                "description": "Filter the result on top/bottom N values according to given measure(s).",
                "properties": {
                    "rankingFilter": {
                        "$ref": "#/components/schemas/RankingFilterBody"
                    }
                }
            },
            "RankingFilterBody": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/AbstractMeasureValueFilter"
                    },
                    {
                        "required": ["measures", "operator", "value"],
                        "type": "object",
                        "properties": {
                            "measures": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/Identifier"
                                }
                            },
                            "operator": {
                                "type": "string",
                                "enum": ["TOP", "BOTTOM"]
                            },
                            "value": {
                                "type": "integer",
                                "example": 5
                            }
                        }
                    }
                ]
            },
            "CommonDateFilter": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/CommonFilter"
                    },
                    {
                        "required": ["dataset"],
                        "type": "object",
                        "properties": {
                            "dataset": {
                                "$ref": "#/components/schemas/AfmObjectIdentifier"
                            }
                        }
                    }
                ]
            },
            "DateFilter": {
                "type": "object",
                "description": "Abstract filter definition type for dates",
                "oneOf": [
                    {
                        "$ref": "#/components/schemas/AbsoluteDateFilter"
                    },
                    {
                        "$ref": "#/components/schemas/RelativeDateFilter"
                    }
                ]
            },
            "AbsoluteDateFilter": {
                "required": ["absoluteDateFilter"],
                "type": "object",
                "description": "A date filter specifying exact from and to dates.",
                "properties": {
                    "absoluteDateFilter": {
                        "$ref": "#/components/schemas/AbsoluteDateFilterBody"
                    }
                }
            },
            "AbsoluteDateFilterBody": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/CommonDateFilter"
                    },
                    {
                        "required": ["from", "to"],
                        "type": "object",
                        "properties": {
                            "from": {
                                "type": "string",
                                "format": "date",
                                "example": "2020-07-01"
                            },
                            "to": {
                                "type": "string",
                                "format": "date",
                                "example": "2020-07-16"
                            }
                        }
                    }
                ]
            },
            "RelativeDateFilter": {
                "required": ["relativeDateFilter"],
                "type": "object",
                "properties": {
                    "relativeDateFilter": {
                        "$ref": "#/components/schemas/RelativeDateFilterBody"
                    }
                }
            },
            "RelativeDateFilterBody": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/CommonDateFilter"
                    },
                    {
                        "required": ["from", "granularity", "to"],
                        "type": "object",
                        "description": "A date filter specifying a time interval that is relative to the current date. For example, last week, next month, and so on. Field dataset is representing qualifier of date dimension.",
                        "properties": {
                            "granularity": {
                                "type": "string",
                                "description": "Date granularity specifying particular date attribute in given dimension.",
                                "example": "DAY",
                                "enum": [
                                    "MINUTE",
                                    "HOUR",
                                    "DAY",
                                    "WEEK",
                                    "MONTH",
                                    "QUARTER",
                                    "YEAR",
                                    "MINUTE_OF_HOUR",
                                    "HOUR_OF_DAY",
                                    "DAY_OF_WEEK",
                                    "DAY_OF_MONTH",
                                    "DAY_OF_YEAR",
                                    "WEEK_OF_YEAR",
                                    "MONTH_OF_YEAR",
                                    "QUARTER_OF_YEAR"
                                ]
                            },
                            "from": {
                                "type": "integer",
                                "format": "int32",
                                "description": "Start of the filtering interval. Specified by number of periods (with respect to given granularity). Typically negative (historical time interval like -2 for '2 days/weeks, ... ago').",
                                "example": -6
                            },
                            "to": {
                                "type": "integer",
                                "format": "int32",
                                "description": "End of the filtering interval. Specified by number of periods (with respect to given granularity). Value 'O' is representing current time-interval (current day, week, ...).",
                                "example": 0
                            }
                        }
                    }
                ]
            },
            "InlineFilterDefinition": {
                "required": ["inline"],
                "type": "object",
                "description": "Filter in form of direct MAQL query.",
                "properties": {
                    "inline": {
                        "$ref": "#/components/schemas/InlineFilterDefinitionBody"
                    }
                }
            },
            "InlineFilterDefinitionBody": {
                "allOf": [
                    {
                        "$ref": "#/components/schemas/CommonFilter"
                    },
                    {
                        "required": ["filter"],
                        "type": "object",
                        "properties": {
                            "filter": {
                                "type": "string"
                            }
                        }
                    }
                ]
            },
            "FilterDefinitionForSimpleMeasure": {
                "type": "object",
                "description": "Abstract filter definition type for simple measure.",
                "oneOf": [
                    {
                        "$ref": "#/components/schemas/DateFilter"
                    },
                    {
                        "$ref": "#/components/schemas/AttributeFilter"
                    }
                ]
            },
            "AttributeFilterElements": {
                "required": ["values"],
                "type": "object",
                "description": "Filter on specific set of label values.",
                "properties": {
                    "values": {
                        "uniqueItems": true,
                        "type": "array",
                        "description": "Set of label values.",
                        "example": "[\"value1\", \"value2\"]",
                        "items": {
                            "type": "string"
                        }
                    }
                }
            },
            "MeasureDefinition": {
                "type": "object",
                "description": "Abstract measure definition type",
                "oneOf": [
                    {
                        "$ref": "#/components/schemas/InlineMeasureDefinition"
                    },
                    {
                        "$ref": "#/components/schemas/ArithmeticMeasureDefinition"
                    },
                    {
                        "$ref": "#/components/schemas/SimpleMeasureDefinition"
                    },
                    {
                        "$ref": "#/components/schemas/PopDateMeasureDefinition"
                    },
                    {
                        "$ref": "#/components/schemas/PopDatasetMeasureDefinition"
                    }
                ]
            },
            "MeasureItem": {
                "required": ["definition", "localIdentifier"],
                "type": "object",
                "properties": {
                    "localIdentifier": {
                        "type": "string",
                        "pattern": "^[.A-Za-z0-9_-]+$",
                        "example": "sampleAutoGenerated0123_ID"
                    },
                    "definition": {
                        "$ref": "#/components/schemas/MeasureDefinition"
                    }
                }
            },
            "PopDataset": {
                "required": ["dataset", "periodsAgo"],
                "type": "object",
                "properties": {
                    "dataset": {
                        "$ref": "#/components/schemas/AfmObjectIdentifier"
                    },
                    "periodsAgo": {
                        "type": "integer",
                        "format": "int32"
                    }
                }
            },
            "PopDatasetMeasureDefinition": {
                "required": ["previousPeriodMeasure"],
                "type": "object",
                "description": "Previous period type of measure.",
                "properties": {
                    "previousPeriodMeasure": {
                        "required": ["dateDatasets", "measureIdentifier"],
                        "type": "object",
                        "properties": {
                            "measureIdentifier": {
                                "$ref": "#/components/schemas/LocalIdentifier"
                            },
                            "dateDatasets": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/PopDataset"
                                }
                            }
                        }
                    }
                }
            },
            "PopDate": {
                "required": ["attribute", "periodsAgo"],
                "type": "object",
                "properties": {
                    "attribute": {
                        "$ref": "#/components/schemas/AfmObjectIdentifier"
                    },
                    "periodsAgo": {
                        "type": "integer",
                        "format": "int32"
                    }
                }
            },
            "PopDateMeasureDefinition": {
                "required": ["overPeriodMeasure"],
                "type": "object",
                "description": "Period over period type of measure.",
                "properties": {
                    "overPeriodMeasure": {
                        "required": ["dateAttributes", "measureIdentifier"],
                        "type": "object",
                        "properties": {
                            "measureIdentifier": {
                                "$ref": "#/components/schemas/LocalIdentifier"
                            },
                            "dateAttributes": {
                                "type": "array",
                                "items": {
                                    "$ref": "#/components/schemas/PopDate"
                                }
                            }
                        }
                    }
                }
            },
            "ResultSpec": {
                "required": ["dimensions"],
                "type": "object",
                "description": "Specifies how the result data will formatted (```dimensions```) and which additional data shall be computed (```grandTotals```).",
                "properties": {
                    "dimensions": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/Dimension"
                        }
                    },
                    "grandTotals": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/GrandTotal"
                        }
                    }
                }
            },
            "ExecutionSettings": {
                "type": "object",
                "description": "Various setting affecting the process of ADM execution or its result",
                "properties": {
                    "dataSamplingPercentage": {
                        "type": "number",
                        "description": "Specifies the percentage of rows from fact datasets to use during computation. This feature is available only for workspaces that use a Vertica Data Source without table views.",
                        "minimum": 0,
                        "exclusiveMinimum": true,
                        "maximum": 100,
                        "exclusiveMaximum": true
                    }
                }
            },
            "SimpleMeasureDefinition": {
                "required": ["measure"],
                "type": "object",
                "properties": {
                    "measure": {
                        "required": ["item"],
                        "type": "object",
                        "properties": {
                            "item": {
                                "$ref": "#/components/schemas/AfmObjectIdentifier"
                            },
                            "aggregation": {
                                "type": "string",
                                "description": "Definition of aggregation type of the measure.",
                                "example": "SUM",
                                "enum": [
                                    "SUM",
                                    "COUNT",
                                    "APPROXIMATE_COUNT",
                                    "AVG",
                                    "MIN",
                                    "MAX",
                                    "MEDIAN",
                                    "RUNSUM"
                                ]
                            },
                            "computeRatio": {
                                "description": "If true compute the percentage of given measure values (broken down by AFM attributes) to the total (not broken down).",
                                "default": false,
                                "example": true,
                                "type": "boolean"
                            },
                            "filters": {
                                "type": "array",
                                "description": "Measure can be filtered by attribute filters with the same interface as ones for global AFM. Note that only one DateFilter is allowed.",
                                "items": {
                                    "$ref": "#/components/schemas/FilterDefinitionForSimpleMeasure"
                                }
                            }
                        }
                    }
                }
            },
            "Identifier": {
                "type": "object",
                "description": "Abstract identifier type",
                "oneOf": [
                    {
                        "$ref": "#/components/schemas/AfmObjectIdentifier"
                    },
                    {
                        "$ref": "#/components/schemas/LocalIdentifier"
                    }
                ]
            },
            "ObjectIdentifier": {
                "required": ["id", "type"],
                "type": "object",
                "description": "Identifier of LDM object determined by ID & type.",
                "properties": {
                    "id": {
                        "type": "string",
                        "pattern": "^([.A-Za-z0-9_-]{1,255}:)?[.A-Za-z0-9_-]{1,255}$",
                        "example": "sample_item.price"
                    },
                    "type": {
                        "type": "string",
                        "example": "fact"
                    }
                }
            },
            "AfmObjectIdentifier": {
                "required": ["identifier"],
                "type": "object",
                "description": "ObjectIdentifier with `identifier` wrapper. This serves to distinguish MD object identifiers in AFM request from local identifiers.",
                "properties": {
                    "identifier": {
                        "$ref": "#/components/schemas/ObjectIdentifier"
                    }
                }
            },
            "LocalIdentifier": {
                "required": ["localIdentifier"],
                "type": "object",
                "description": "String that uniquely identifies the measure in the context of the current AFM.",
                "properties": {
                    "localIdentifier": {
                        "type": "string",
                        "pattern": "^[.A-Za-z0-9_-]+$",
                        "example": "sampleAutoGenerated0123_ID"
                    }
                }
            },
            "InlineMeasureDefinition": {
                "required": ["inline"],
                "type": "object",
                "description": "Measure defined by the raw MAQL query.",
                "properties": {
                    "inline": {
                        "required": ["maql"],
                        "type": "object",
                        "properties": {
                            "maql": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "AfmExecutionResponse": {
                "required": ["executionResponse"],
                "type": "object",
                "properties": {
                    "executionResponse": {
                        "$ref": "#/components/schemas/ExecutionResponse"
                    }
                }
            },
            "ExecutionLinks": {
                "required": ["executionResult"],
                "type": "object",
                "properties": {
                    "executionResult": {
                        "type": "string"
                    }
                }
            },
            "ExecutionResponse": {
                "required": ["dimensions", "links"],
                "type": "object",
                "properties": {
                    "dimensions": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ResultDimension"
                        }
                    },
                    "links": {
                        "$ref": "#/components/schemas/ExecutionLinks"
                    }
                }
            },
            "ResultDimension": {
                "required": ["headers"],
                "type": "object",
                "properties": {
                    "headers": {
                        "type": "array",
                        "items": {
                            "oneOf": [
                                {
                                    "$ref": "#/components/schemas/MeasureGroupHeader"
                                },
                                {
                                    "$ref": "#/components/schemas/AttributeHeader"
                                }
                            ]
                        }
                    }
                }
            },
            "MeasureGroupHeader": {
                "required": ["measureGroupHeaders"],
                "type": "object",
                "properties": {
                    "measureGroupHeaders": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/MeasureHeaderOut"
                        }
                    }
                }
            },
            "MeasureHeaderOut": {
                "required": ["localIdentifier"],
                "type": "object",
                "properties": {
                    "localIdentifier": {
                        "type": "string"
                    },
                    "format": {
                        "type": "string"
                    },
                    "name": {
                        "type": "string"
                    }
                }
            },
            "AttributeHeader": {
                "required": ["attributeHeader"],
                "type": "object",
                "properties": {
                    "attributeHeader": {
                        "required": [
                            "localIdentifier",
                            "attribute",
                            "attributeName",
                            "label",
                            "labelName",
                            "primaryLabel"
                        ],
                        "type": "object",
                        "properties": {
                            "localIdentifier": {
                                "type": "string",
                                "pattern": "^[.A-Za-z0-9_-]+$"
                            },
                            "attribute": {
                                "$ref": "#/components/schemas/ObjectIdentifier"
                            },
                            "attributeName": {
                                "type": "string"
                            },
                            "label": {
                                "$ref": "#/components/schemas/ObjectIdentifier"
                            },
                            "labelName": {
                                "type": "string"
                            },
                            "primaryLabel": {
                                "$ref": "#/components/schemas/ObjectIdentifier"
                            },
                            "granularity": {
                                "type": "string",
                                "enum": [
                                    "YEAR",
                                    "DAY",
                                    "HOUR",
                                    "MINUTE",
                                    "QUARTER",
                                    "MONTH",
                                    "WEEK",
                                    "QUARTER_OF_YEAR",
                                    "MONTH_OF_YEAR",
                                    "DAY_OF_YEAR",
                                    "DAY_OF_WEEK",
                                    "DAY_OF_MONTH",
                                    "HOUR_OF_DAY",
                                    "MINUTE_OF_HOUR",
                                    "WEEK_OF_YEAR"
                                ]
                            }
                        }
                    }
                }
            },
            "AfmValidObjectsQuery": {
                "required": ["afm", "types"],
                "type": "object",
                "description": "Entity holding AFM and list of object types whose validity should be computed.",
                "properties": {
                    "types": {
                        "uniqueItems": true,
                        "type": "array",
                        "items": {
                            "type": "string",
                            "example": "facts",
                            "enum": ["facts", "attributes", "measures", "UNRECOGNIZED"]
                        }
                    },
                    "afm": {
                        "$ref": "#/components/schemas/AFM"
                    }
                }
            },
            "AfmValidObjectsResponse": {
                "required": ["items"],
                "type": "object",
                "description": "All objects of specified types valid with respect to given AFM.",
                "properties": {
                    "items": {
                        "type": "array",
                        "items": {
                            "$ref": "#/components/schemas/ObjectIdentifier"
                        }
                    }
                }
            },
            "Element": {
                "required": ["primaryTitle", "title"],
                "type": "object",
                "properties": {
                    "primaryTitle": {
                        "type": "string",
                        "description": "Title of primary label of attribute owning requested label."
                    },
                    "title": {
                        "type": "string",
                        "description": "Title of requested label."
                    }
                },
                "description": "List of returned elements."
            },
            "ElementsResponse": {
                "required": ["elements", "paging", "primaryLabel"],
                "type": "object",
                "description": "Entity holding list of sorted & filtered label elements, related primary label of attribute owning requested label and paging.",
                "properties": {
                    "primaryLabel": {
                        "$ref": "#/components/schemas/ObjectIdentifier"
                    },
                    "elements": {
                        "type": "array",
                        "description": "List of returned elements.",
                        "items": {
                            "$ref": "#/components/schemas/Element"
                        }
                    },
                    "paging": {
                        "$ref": "#/components/schemas/Paging"
                    }
                }
            },
            "Paging": {
                "required": ["count", "offset", "total"],
                "type": "object",
                "properties": {
                    "total": {
                        "type": "integer",
                        "description": "Count of returnable items ignoring paging.",
                        "example": 100,
                        "format": "int32"
                    },
                    "count": {
                        "type": "integer",
                        "description": "Count of items in this page.",
                        "example": 5,
                        "format": "int32"
                    },
                    "offset": {
                        "type": "integer",
                        "description": "Offset of this page.",
                        "example": 10,
                        "format": "int32"
                    },
                    "next": {
                        "type": "string",
                        "description": "Link to next page, or null if this is last page.",
                        "example": "https://sample.gooddata.com/api/actions/workspaces/sampleWorkspace/execution/collectLabelElements?label=sample.price&limit=5&offset=10"
                    }
                },
                "description": "Current page description."
            },
            "ErrorMessage": {
                "required": ["error", "message", "path", "status", "timestamp"],
                "type": "object",
                "properties": {
                    "timestamp": {
                        "type": "string",
                        "description": "Error timestamp in ISO 8601.",
                        "example": "1970-01-01T00:00:00.000+0000"
                    },
                    "status": {
                        "type": "integer",
                        "description": "HTTP error response status code.",
                        "format": "int32",
                        "example": 400
                    },
                    "error": {
                        "type": "string",
                        "description": "HTTP error message like: Bad Request, Not Found, etc.",
                        "example": "Bad Request"
                    },
                    "message": {
                        "type": "string",
                        "description": "Error message returned by the server application.",
                        "example": "The request couldn't be processed"
                    },
                    "path": {
                        "type": "string",
                        "description": "Path of the failed request.",
                        "example": "/api/fail"
                    }
                },
                "description": "Contains information about the error."
            },
            "AttributeExecutionResultHeader": {
                "required": ["attributeHeader"],
                "type": "object",
                "properties": {
                    "attributeHeader": {
                        "$ref": "#/components/schemas/AttributeResultHeader"
                    }
                }
            },
            "AttributeResultHeader": {
                "required": ["labelValue", "primaryLabelValue"],
                "type": "object",
                "properties": {
                    "labelValue": {
                        "type": "string",
                        "description": "A value of the current attribute label.",
                        "example": "East Coast"
                    },
                    "primaryLabelValue": {
                        "type": "string",
                        "description": "A value of the primary attribute label.",
                        "example": "1225"
                    }
                },
                "description": "Header containing the information related to attributes."
            },
            "DimensionHeader": {
                "required": ["headerGroups"],
                "type": "object",
                "properties": {
                    "headerGroups": {
                        "type": "array",
                        "description": "An array containing header groups.",
                        "items": {
                            "$ref": "#/components/schemas/HeaderGroup"
                        }
                    }
                },
                "description": "Contains the dimension-specific header information."
            },
            "ExecutionResult": {
                "required": ["data", "dimensionHeaders", "grandTotals", "paging"],
                "type": "object",
                "properties": {
                    "data": {
                        "type": "array",
                        "description": "A multi-dimensional array of computed results. The most common one being a 2-dimensional array. The arrays can be composed of Double or null values.",
                        "example": [
                            [1, 2.5],
                            [-1.3, 3.14]
                        ],
                        "items": {
                            "type": "object"
                        }
                    },
                    "dimensionHeaders": {
                        "type": "array",
                        "description": "An array containing dimension headers. The size of the array corresponds to dimension size. Their order corresponds to the dimension order in the execution result spec.",
                        "items": {
                            "$ref": "#/components/schemas/DimensionHeader"
                        }
                    },
                    "grandTotals": {
                        "type": "array",
                        "description": "An array with grand totals data corresponding to grand totals definition in result spec.",
                        "items": {
                            "$ref": "#/components/schemas/ExecutionResultGrandTotal"
                        }
                    },
                    "paging": {
                        "$ref": "#/components/schemas/ExecutionResultPaging"
                    }
                },
                "description": "Contains the result of an AFM execution."
            },
            "ExecutionResultGrandTotal": {
                "required": ["data", "localIdentifier"],
                "type": "object",
                "description": "Contains the data related to a grand total, including the reference to localIdentifier as specified in result spec.",
                "properties": {
                    "data": {
                        "type": "object"
                    },
                    "localIdentifier": {
                        "type": "string"
                    }
                }
            },
            "ExecutionResultHeader": {
                "type": "object",
                "description": "Abstract execution result header",
                "oneOf": [
                    {
                        "$ref": "#/components/schemas/AttributeExecutionResultHeader"
                    },
                    {
                        "$ref": "#/components/schemas/MeasureExecutionResultHeader"
                    }
                ]
            },
            "ExecutionResultPaging": {
                "required": ["count", "offset", "total"],
                "type": "object",
                "properties": {
                    "count": {
                        "type": "array",
                        "description": "A count of the returned results in every dimension.",
                        "example": [2, 2],
                        "items": {
                            "type": "integer",
                            "format": "int32"
                        }
                    },
                    "offset": {
                        "type": "array",
                        "description": "The offset of the results returned in every dimension.",
                        "example": [0, 0],
                        "items": {
                            "type": "integer",
                            "format": "int32"
                        }
                    },
                    "total": {
                        "type": "array",
                        "description": "A total count of the results in every dimension.",
                        "example": [2, 2],
                        "items": {
                            "type": "integer",
                            "format": "int32"
                        }
                    }
                },
                "description": "A paging information related to the data presented in the execution result. These paging information are multi-dimensional."
            },
            "HeaderGroup": {
                "required": ["headers"],
                "type": "object",
                "properties": {
                    "headers": {
                        "type": "array",
                        "description": "An array containing headers.",
                        "items": {
                            "$ref": "#/components/schemas/ExecutionResultHeader"
                        }
                    }
                },
                "description": "Contains the information specific for a group of headers. These groups correlate to attributes and measure groups."
            },
            "MeasureExecutionResultHeader": {
                "required": ["measureHeader"],
                "type": "object",
                "properties": {
                    "measureHeader": {
                        "$ref": "#/components/schemas/MeasureResultHeader"
                    }
                }
            },
            "MeasureResultHeader": {
                "required": ["measureIndex"],
                "type": "object",
                "properties": {
                    "measureIndex": {
                        "type": "integer",
                        "description": "Measure index. Starts at 0.",
                        "format": "int32",
                        "example": 0
                    }
                },
                "description": "Header containing the information related to measures."
            }
        }
    }
}
