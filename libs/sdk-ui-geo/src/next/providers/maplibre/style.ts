// (C) 2025 GoodData Corporation

import type { StyleSpecification } from "maplibre-gl";

export const createStyleSpecification = (baseUrl: string): StyleSpecification => {
    return {
        version: 8,
        name: "GD Light - AWS (Aggressive - Ultra)",
        metadata: {
            description: "Ultra-minimized aggressive variant - Essential context only, capped at zoom 16",
            "maplibre:version": "3.6.2",
            source: "Converted from Mapbox GD Light style",
            tileSources: "AWS Location Service (HERE/Esri data)",
        },
        center: [-66.0532900644593, 29.421382030115723],
        zoom: 1.0152360087890513,
        bearing: 0,
        pitch: 1,
        light: {
            position: [1.15, 210, 0],
            anchor: "viewport",
            color: "hsl(0, 0%, 0%)",
            intensity: 0.5,
        },
        sources: {
            aws: {
                attribution:
                    "Â© <a href='https://docs.aws.amazon.com/location/latest/developerguide/data-attribution.html'>AWS</a>, <a href='https://legal.here.com/en-gb/terms/general-content-supplier-terms-and-notices'>HERE</a>",
                maxzoom: 17,
                minzoom: 0,
                tiles: [`${baseUrl}/api/v1/location/tiles/{z}/{x}/{y}`],
                type: "vector",
            },
        },
        glyphs: `${baseUrl}/api/v1/location/glyphs/{fontstack}/{range}`,
        layers: [
            {
                id: "land",
                paint: { "background-color": "#e9edf1" },
                type: "background",
            },
            {
                filter: [
                    "all",
                    ["match", ["get", "kind"], ["transit", "rail"], true, false],
                    ["has", "is_tunnel"],
                    ["!", ["has", "service"]],
                    [
                        "case",
                        ["all", ["has", "kind_detail"], ["==", ["get", "kind_detail"], "disused"]],
                        false,
                        true,
                    ],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "rail_tunnel",
                layout: { "line-join": "round" },
                minzoom: 12,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 1],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: ["all", ["==", ["get", "kind"], "desert"], ["==", ["geometry-type"], "Polygon"]],
                id: "landuse_desert",
                maxzoom: 12,
                minzoom: 0,
                paint: {
                    "fill-color": "hsl(150, 6%, 93%)",
                    "fill-opacity": ["interpolate", ["linear"], ["zoom"], 11.5, 1, 12, 0],
                },
                source: "aws",
                "source-layer": "landuse",
                type: "fill",
            },
            {
                filter: ["all", ["==", ["get", "kind"], "glacier"], ["==", ["geometry-type"], "Polygon"]],
                id: "landuse_glacier",
                paint: { "fill-color": "hsl(150, 6%, 93%)" },
                source: "aws",
                "source-layer": "landuse",
                type: "fill",
            },
            {
                filter: [
                    "all",
                    ["match", ["get", "kind"], ["urban", "urban_area"], true, false],
                    ["==", ["geometry-type"], "Polygon"],
                ],
                id: "landuse_urban",
                maxzoom: 9,
                minzoom: 3,
                paint: { "fill-color": "hsl(150, 6%, 93%)", "fill-opacity": 0.7 },
                source: "aws",
                "source-layer": "landuse",
                type: "fill",
            },
            {
                filter: [
                    "all",
                    [
                        "match",
                        ["get", "kind"],
                        ["industrial", "harbour", "commercial", "military"],
                        true,
                        false,
                    ],
                    ["==", ["geometry-type"], "Polygon"],
                ],
                id: "landuse_misc",
                minzoom: 9,
                paint: {
                    "fill-color": "hsl(150, 6%, 93%)",
                    "fill-opacity": ["interpolate", ["linear"], ["zoom"], 3, 0, 3.5, 0.8],
                },
                source: "aws",
                "source-layer": "landuse",
                type: "fill",
            },
            {
                filter: [
                    "all",
                    ["match", ["get", "kind"], ["hospital", "university", "school"], true, false],
                    ["==", ["geometry-type"], "Polygon"],
                ],
                id: "landuse_public-complex",
                minzoom: 12,
                paint: {
                    "fill-color": "hsl(150, 6%, 93%)",
                    "fill-opacity": ["interpolate", ["linear"], ["zoom"], 12, 0, 12.25, 1],
                },
                source: "aws",
                "source-layer": "landuse",
                type: "fill",
            },
            {
                filter: [
                    "all",
                    ["step", ["zoom"], [">=", ["get", "sort_rank"], 18], 9, true],
                    [
                        "match",
                        ["get", "kind"],
                        [
                            "allotments",
                            "cemetery",
                            "forest",
                            "golf_course",
                            "grass",
                            "grassland",
                            "meadow",
                            "national_park",
                            "natural_forest",
                            "natural_wood",
                            "nature_reserve",
                            "park",
                            "protected_area",
                            "sports_centre",
                            "theme_park",
                            "water_park",
                            "village_green",
                            "wood",
                            "zoo",
                        ],
                        true,
                        false,
                    ],
                    ["==", ["geometry-type"], "Polygon"],
                ],
                id: "landuse_greenspace",
                paint: {
                    "fill-color": "hsl(150, 6%, 93%)",
                    "fill-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        12,
                        ["match", ["get", "kind"], ["golf_course", "cemetery", "zoo", "theme_park"], 0, 0.5],
                        12.25,
                        0.5,
                    ],
                },
                source: "aws",
                "source-layer": "landuse",
                type: "fill",
            },
            {
                filter: ["all", ["==", ["get", "kind"], "beach"], ["==", ["geometry-type"], "Polygon"]],
                id: "landuse_beach",
                minzoom: 9,
                paint: {
                    "fill-color": "hsl(150, 6%, 93%)",
                    "fill-opacity": ["interpolate", ["linear"], ["zoom"], 9, 0, 9.5, 1],
                },
                source: "aws",
                "source-layer": "landuse",
                type: "fill",
            },
            {
                filter: ["all", ["==", ["get", "kind"], "aerodrome"], ["==", ["geometry-type"], "Polygon"]],
                id: "landuse_aerodrome",
                minzoom: 9,
                paint: {
                    "fill-color": "hsl(150, 6%, 93%)",
                    "fill-opacity": ["interpolate", ["linear"], ["zoom"], 9, 0, 9.5, 1],
                },
                source: "aws",
                "source-layer": "landuse",
                type: "fill",
            },
            {
                filter: ["all", ["==", ["get", "kind"], "reservation"], ["==", ["geometry-type"], "Polygon"]],
                id: "landuse_reservation",
                minzoom: 3,
                paint: {
                    "fill-color": "hsl(150, 6%, 93%)",
                    "fill-opacity": ["interpolate", ["linear"], ["zoom"], 3, 0, 3.5, 0.2, 9, 0.3],
                    "fill-outline-color": "hsl(26, 36%, 62%)",
                },
                source: "aws",
                "source-layer": "landuse",
                type: "fill",
            },
            {
                filter: [
                    "all",
                    ["!", ["has", "is_tunnel"]],
                    ["!", ["has", "intermittent"]],
                    ["==", ["geometry-type"], "LineString"],
                    ["step", ["zoom"], ["==", ["get", "kind"], "river"], 11, true],
                ],
                id: "water_waterway",
                layout: {
                    "line-cap": "round",
                    "line-join": "round",
                    "line-miter-limit": 0,
                    "line-round-limit": 0,
                },
                minzoom: 9,
                paint: {
                    "line-color": "#cad2d3",
                    "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        9,
                        ["match", ["get", "kind"], ["river"], 0.5, 0],
                        12,
                        ["match", ["get", "kind"], ["river"], 1, 0],
                        13,
                        ["match", ["get", "kind"], ["river"], 1, 0.5],
                        14,
                        1,
                    ],
                    "line-translate-anchor": "viewport",
                    "line-width": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        9,
                        0.3,
                        12,
                        ["match", ["get", "kind"], ["stream", "drain", "ditch"], 0.75, 1],
                        14,
                        ["match", ["get", "kind"], ["stream", "drain", "ditch"], 1.5, 5],
                    ],
                },
                source: "aws",
                "source-layer": "water",
                type: "line",
            },
            {
                filter: [
                    "all",
                    [">=", ["get", "sort_rank"], 200],
                    ["!", ["has", "is_tunnel"]],
                    ["match", ["get", "kind"], ["reef", "playa", "ocean"], false, true],
                    ["!", ["has", "intermittent"]],
                    ["==", ["geometry-type"], "Polygon"],
                ],
                id: "water_fill",
                paint: {
                    "fill-antialias": false,
                    "fill-color": "hsl(0, 0%, 100%)",
                    "fill-outline-color": "hsl(201, 94%, 79%)",
                    "fill-translate-anchor": "viewport",
                },
                source: "aws",
                "source-layer": "water",
                type: "fill",
            },
            {
                filter: ["all", ["==", ["get", "kind"], "ocean"], ["==", ["geometry-type"], "Polygon"]],
                id: "water_ocean",
                paint: {
                    "fill-antialias": false,
                    "fill-color": "hsl(0, 0%, 100%)",
                    "fill-outline-color": "hsl(201, 94%, 79%)",
                    "fill-translate-anchor": "viewport",
                },
                source: "aws",
                "source-layer": "water",
                type: "fill",
            },
            {
                filter: ["all", ["==", ["get", "kind"], "building"], ["==", ["geometry-type"], "Polygon"]],
                id: "building_fill",
                minzoom: 13,
                paint: {
                    "fill-color": "hsl(55, 5%, 91%)",
                    "fill-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        13,
                        0,
                        13.25,
                        ["case", ["all", ["has", "min_zoom"], ["<=", ["get", "min_zoom"], 13]], 1, 0],
                        14.25,
                        ["case", ["all", ["has", "min_zoom"], ["<=", ["get", "min_zoom"], 14]], 1, 0],
                        15.25,
                        1,
                    ],
                },
                source: "aws",
                "source-layer": "buildings",
                type: "fill",
            },
            {
                filter: [
                    "all",
                    ["match", ["get", "kind"], ["hospital", "university", "school"], true, false],
                    ["==", ["geometry-type"], "Polygon"],
                ],
                id: "landuse_public-complex-above",
                minzoom: 9,
                paint: { "fill-color": "hsl(150, 6%, 93%)", "fill-opacity": 0.2 },
                source: "aws",
                "source-layer": "landuse",
                type: "fill",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    [
                        "any",
                        ["==", ["get", "kind_detail"], "service"],
                        [
                            "all",
                            ["==", ["get", "kind_detail"], "residential"],
                            ["==", ["get", "private"], true],
                        ],
                    ],
                    ["==", ["get", "kind"], "minor_road"],
                    ["!", ["has", "is_bridge"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_service-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 15,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-dasharray": ["step", ["zoom"], ["literal", [4, 2]], 18, ["literal", [8, 4]]],
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 15, 2],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 15.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 0.6],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    ["match", ["get", "kind"], ["minor_road", "unclassified", "track"], true, false],
                    ["!=", ["get", "kind_detail"], "service"],
                    ["!=", ["get", "private"], true],
                    ["!", ["has", "is_bridge"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_minor-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 14.5,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [10, 0]],
                        15,
                        ["literal", [4, 2]],
                        18,
                        ["literal", [8, 4]],
                    ],
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 13.5, 1, 15, 3],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 14.5, 0, 15, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 0.6],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    ["==", ["get", "kind_detail"], "tertiary"],
                    ["has", "is_link"],
                    ["!", ["has", "is_bridge"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_tertiary-link-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 14,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [10, 0]],
                        15,
                        ["literal", [6, 4]],
                        18,
                        ["literal", [10, 5]],
                        20,
                        ["literal", [12, 8]],
                    ],
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 11, 0.6, 12, 1, 14, 2],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 14, 0, 14.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 0.6],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    ["==", ["get", "kind_detail"], "secondary"],
                    ["has", "is_link"],
                    ["!", ["has", "is_bridge"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_primary-link-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 14,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [10, 0]],
                        15,
                        ["literal", [8, 4]],
                        16,
                        ["literal", [10, 5]],
                        18,
                        ["literal", [12, 8]],
                    ],
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 11, 1, 14, 2.5],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 14, 0, 14.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 0.5],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    ["match", ["get", "kind_detail"], ["motorway", "trunk", "primary"], true, false],
                    ["has", "is_link"],
                    ["!", ["has", "is_bridge"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_motorway-trunk-link-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 13.5,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [10, 0]],
                        15,
                        ["literal", [5, 3]],
                        16,
                        ["literal", [8, 4]],
                        17,
                        ["literal", [12, 5]],
                        18,
                        ["literal", [15, 8]],
                        19,
                        ["literal", [20, 10]],
                        20,
                        ["literal", [30, 15]],
                    ],
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 8, 0.7, 10, 1, 11, 1.25, 14, 2.5],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 13.5, 0, 14, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 13, 0.4],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    ["==", ["get", "kind_detail"], "tertiary"],
                    ["!", ["has", "is_bridge"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_tertiary-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 14,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [10, 0]],
                        15,
                        ["literal", [6, 4]],
                        18,
                        ["literal", [10, 5]],
                        20,
                        ["literal", [12, 8]],
                    ],
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 10, 0.6, 12, 1, 14, 3],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 14, 0, 14.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 0.6],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    ["==", ["get", "kind_detail"], "secondary"],
                    ["!", ["has", "is_bridge"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_primary-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 14,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [10, 0]],
                        15,
                        ["literal", [8, 4]],
                        16,
                        ["literal", [10, 5]],
                        18,
                        ["literal", [12, 8]],
                    ],
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 9, 0.8, 11, 1.25, 12, 2, 14, 4],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 14, 0, 14.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 14, 0.6],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    ["match", ["get", "kind_detail"], ["motorway", "trunk", "primary"], true, false],
                    ["!", ["has", "is_bridge"]],
                    ["!", ["has", "is_link"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_motorway-trunk-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 8,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [10, 0]],
                        15,
                        ["literal", [5, 3]],
                        16,
                        ["literal", [8, 4]],
                        17,
                        ["literal", [12, 5]],
                        18,
                        ["literal", [15, 8]],
                        19,
                        ["literal", [20, 10]],
                        20,
                        ["literal", [30, 15]],
                    ],
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 7, 0.7, 9, 0.8, 11, 2, 14, 5],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 12, 0.6, 15, 2],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind"], "path"],
                    ["!", ["has", "footway"]],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["!=", ["get", "landuse_kind"], "pier"],
                    ["!=", ["get", "kind_detail"], "pier"],
                    true,
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_path",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 15,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-dasharray": [0.03, 1.75],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 15.5, 1],
                    "line-width": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        14,
                        1.25,
                        15,
                        1.5,
                        16,
                        1.75,
                    ],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind"], "minor_road"],
                    [
                        "any",
                        ["==", ["get", "kind_detail"], "service"],
                        [
                            "all",
                            ["==", ["get", "kind_detail"], "residential"],
                            ["==", ["get", "private"], true],
                        ],
                    ],
                    ["!", ["has", "is_link"]],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_service-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 15,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 15, 2],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 15.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 0.8],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["match", ["get", "kind"], ["minor_road", "unclassified", "track"], true, false],
                    ["!=", ["get", "kind_detail"], "service"],
                    ["!=", ["get", "private"], true],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_minor-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 14.5,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 13.5, 1, 15, 3],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 14.5, 0, 15, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 14.5, 0.8],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind_detail"], "tertiary"],
                    ["has", "is_link"],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_tertiary-link-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 14.5,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 11, 0.6, 12, 1, 14, 2],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 14.5, 0, 15, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 0.6],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind_detail"], "secondary"],
                    ["has", "is_link"],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_primary-link-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 12,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 11, 1, 14, 2.5],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 12, 0, 12.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 0.5],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["match", ["get", "kind_detail"], ["motorway", "trunk", "primary"], true, false],
                    ["has", "is_link"],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_motorway-trunk-link-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 13.5,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 8, 0.7, 10, 1, 11, 1.25, 14, 2.5],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 13.5, 0, 14, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 13, 0.4],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind_detail"], "tertiary"],
                    ["!", ["has", "is_link"]],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_tertiary-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 14.5,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 10, 0.6, 12, 1, 14, 3],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 14.5, 0, 15, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 14, 1.125, 15, 1.5],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind_detail"], "secondary"],
                    ["!", ["has", "is_link"]],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_primary-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 12,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 9, 0.8, 11, 1.25, 12, 2, 14, 4],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 12, 0, 12.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 13, 1, 15, 1.5],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["match", ["get", "kind_detail"], ["motorway", "trunk", "primary"], true, false],
                    ["!", ["has", "is_link"]],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_motorway-trunk-casing",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 8,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 7, 0.7, 9, 0.8, 11, 2, 14, 5],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 8, 0, 8.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 8, 0.5, 13, 0.6, 15, 1.5],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    [
                        "any",
                        ["==", ["get", "kind_detail"], "service"],
                        [
                            "all",
                            ["==", ["get", "kind_detail"], "residential"],
                            ["==", ["get", "private"], true],
                        ],
                    ],
                    ["==", ["get", "kind"], "minor_road"],
                    ["!", ["has", "is_bridge"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_service",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 15,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 15.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 2],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    ["match", ["get", "kind"], ["minor_road", "unclassified", "track"], true, false],
                    ["!=", ["get", "kind_detail"], "service"],
                    ["!=", ["get", "private"], true],
                    ["!", ["has", "is_bridge"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_minor",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 12,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 12.5, 0, 13, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 13.5, 1, 15, 3],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    ["==", ["get", "kind_detail"], "tertiary"],
                    ["has", "is_link"],
                    ["!", ["has", "is_bridge"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_tertiary-link",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 11,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 11.5, 0, 12, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 11, 0.6, 12, 1, 14, 2],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    ["==", ["get", "kind_detail"], "secondary"],
                    ["has", "is_link"],
                    ["!", ["has", "is_bridge"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_primary-link",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 11,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 11, 0, 11.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 11, 1, 14, 2.5],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    ["match", ["get", "kind_detail"], ["motorway", "trunk", "primary"], true, false],
                    ["has", "is_link"],
                    ["!", ["has", "is_bridge"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_motorway-trunk-link",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 8,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 8, 0, 8.5, 1],
                    "line-width": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        8,
                        0.7,
                        10,
                        1,
                        11,
                        1.25,
                        14,
                        2.5,
                    ],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    ["==", ["get", "kind_detail"], "tertiary"],
                    ["!", ["has", "is_bridge"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_tertiary",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 12,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 12, 0, 12.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 10, 0.6, 12, 1, 14, 3],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    ["==", ["get", "kind_detail"], "secondary"],
                    ["!", ["has", "is_bridge"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_primary",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 9,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 9, 0, 9.5, 1],
                    "line-width": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        9,
                        0.8,
                        11,
                        1.25,
                        12,
                        2,
                        14,
                        4,
                    ],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["has", "is_tunnel"],
                    ["match", ["get", "kind_detail"], ["motorway", "trunk", "primary"], true, false],
                    ["!", ["has", "is_bridge"]],
                    ["!", ["has", "is_link"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "tunnel_motorway-trunk",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 12,
                paint: {
                    "line-color": "hsl(187, 7%, 88%)",
                    "line-width": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        7,
                        0.7,
                        9,
                        0.8,
                        11,
                        2,
                        14,
                        5,
                    ],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: ["all", ["==", ["get", "kind"], "building"], ["==", ["geometry-type"], "Polygon"]],
                id: "building_fill-above-tunnel",
                minzoom: 13,
                paint: {
                    "fill-color": ["interpolate", ["linear"], ["zoom"], 14, "hsl(0, 2%, 91%)"],
                    "fill-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        13,
                        0,
                        13.25,
                        ["case", ["all", ["has", "min_zoom"], ["<=", ["get", "min_zoom"], 13]], 0.3, 0],
                        14.25,
                        ["case", ["all", ["has", "min_zoom"], ["<=", ["get", "min_zoom"], 14]], 0.3, 0],
                        15.25,
                        0.3,
                    ],
                },
                source: "aws",
                "source-layer": "buildings",
                type: "fill",
            },
            {
                filter: ["all", ["==", ["get", "kind"], "building"], ["==", ["geometry-type"], "Polygon"]],
                id: "building_line",
                minzoom: 15,
                paint: {
                    "line-blur": ["interpolate", ["linear"], ["zoom"], 15, 1],
                    "line-color": "hsl(55, 3%, 87%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 16, 0.8],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 0.65],
                },
                source: "aws",
                "source-layer": "buildings",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind"], "minor_road"],
                    [
                        "any",
                        ["==", ["get", "kind_detail"], "service"],
                        [
                            "all",
                            ["==", ["get", "kind_detail"], "residential"],
                            ["==", ["get", "private"], true],
                        ],
                    ],
                    ["!", ["has", "is_link"]],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_service",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 15,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 15.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 2],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["match", ["get", "kind"], ["minor_road", "unclassified", "track"], true, false],
                    ["!=", ["get", "kind_detail"], "service"],
                    ["!=", ["get", "private"], true],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_minor",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 12,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 12.5, 0, 13, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 13.5, 1, 15, 3],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind_detail"], "tertiary"],
                    ["has", "is_link"],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_tertiary-link",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 11,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 11.5, 0, 12, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 11, 0.6, 12, 1, 14, 2],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind_detail"], "secondary"],
                    ["has", "is_link"],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_primary-link",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 11,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 11, 0, 11.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 11, 1, 14, 2.5],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["match", ["get", "kind_detail"], ["motorway", "trunk", "primary"], true, false],
                    ["has", "is_link"],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_motorway-trunk-link",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 8,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 8, 0, 8.5, 1],
                    "line-width": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        8,
                        0.7,
                        10,
                        1,
                        11,
                        1.25,
                        14,
                        2.5,
                    ],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind_detail"], "tertiary"],
                    ["!", ["has", "is_link"]],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_tertiary",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 10,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 10, 0, 10.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 10, 0.6, 12, 1, 14, 3],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind_detail"], "secondary"],
                    [
                        "any",
                        ["!", ["has", "is_bridge"]],
                        ["!", ["has", "z_level"]],
                        ["==", ["get", "z_level"], 0],
                    ],
                    ["!", ["has", "is_tunnel"]],
                    ["!", ["has", "is_link"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_primary",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 8,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 8.5, 0, 9, 1],
                    "line-width": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        9,
                        0.8,
                        11,
                        1.25,
                        12,
                        2,
                        14,
                        4,
                    ],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["match", ["get", "kind_detail"], ["motorway", "trunk", "primary"], true, false],
                    [
                        "step",
                        ["zoom"],
                        [
                            "any",
                            [
                                "any",
                                ["!", ["has", "is_bridge"]],
                                ["!", ["has", "z_level"]],
                                ["==", ["get", "z_level"], 0],
                            ],
                            ["!", ["has", "is_tunnel"]],
                            ["has", "is_bridge"],
                            ["has", "is_tunnel"],
                        ],
                        12,
                        ["all", ["!", ["has", "is_bridge"]], ["!", ["has", "is_tunnel"]]],
                    ],
                    ["!", ["has", "is_link"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "road_motorway-trunk",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 5.75,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-width": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        7,
                        0.7,
                        9,
                        0.8,
                        11,
                        2,
                        14,
                        5,
                    ],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["match", ["get", "kind"], ["transit", "rail"], true, false],
                    ["step", ["zoom"], ["!", ["has", "service"]], 14, true],
                    ["!", ["has", "is_bridge"]],
                    ["!", ["has", "is_tunnel"]],
                    [
                        "case",
                        ["all", ["has", "kind_detail"], ["==", ["get", "kind_detail"], "disused"]],
                        false,
                        true,
                    ],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "rail_road",
                layout: { "line-join": "round" },
                minzoom: 11,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        11.5,
                        0,
                        12,
                        ["case", ["has", "service"], 0, 1],
                        14,
                        ["case", ["has", "service"], 0, 1],
                        15,
                        1,
                    ],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 1],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    [
                        "any",
                        ["==", ["get", "kind_detail"], "service"],
                        [
                            "all",
                            ["==", ["get", "kind_detail"], "residential"],
                            ["==", ["get", "private"], true],
                        ],
                    ],
                    ["==", ["get", "kind"], "minor_road"],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_service-shadow",
                layout: { "line-join": "round" },
                minzoom: 15,
                paint: {
                    "line-blur": ["interpolate", ["linear"], ["zoom"], 15, 4],
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 15.5, 0.3],
                    "line-translate": ["interpolate", ["linear"], ["zoom"], 15, ["literal", [2, 2]]],
                    "line-translate-anchor": "viewport",
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 2],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["match", ["get", "kind"], ["minor_road", "unclassified", "track"], true, false],
                    ["!=", ["get", "kind_detail"], "service"],
                    ["!=", ["get", "private"], true],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_minor-shadow",
                layout: { "line-join": "round" },
                minzoom: 15,
                paint: {
                    "line-blur": ["interpolate", ["linear"], ["zoom"], 15, 7],
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 15.5, 0.3],
                    "line-translate": ["interpolate", ["linear"], ["zoom"], 15, ["literal", [1.5, 1.5]]],
                    "line-translate-anchor": "viewport",
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 3],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["==", ["get", "kind_detail"], "tertiary"],
                    ["has", "is_link"],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_tertiary-link-shadow",
                layout: { "line-join": "round" },
                minzoom: 15,
                paint: {
                    "line-blur": ["interpolate", ["linear"], ["zoom"], 14, 8],
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 15.5, 0.3],
                    "line-translate": ["interpolate", ["linear"], ["zoom"], 14, ["literal", [1, 1]]],
                    "line-translate-anchor": "viewport",
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 14, 4],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["==", ["get", "kind_detail"], "secondary"],
                    ["has", "is_link"],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_primary-secondary-link-shadow",
                layout: { "line-join": "round" },
                minzoom: 15,
                paint: {
                    "line-blur": ["interpolate", ["linear"], ["zoom"], 14, 8],
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 15.5, 0.3],
                    "line-translate": ["interpolate", ["linear"], ["zoom"], 14, ["literal", [3, 3]]],
                    "line-translate-anchor": "viewport",
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 14, 4],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["has", "is_link"],
                    ["match", ["get", "kind_detail"], ["motorway", "trunk", "primary"], true, false],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_motorway-trunk-link-shadow",
                layout: { "line-join": "round" },
                minzoom: 15,
                paint: {
                    "line-blur": ["interpolate", ["linear"], ["zoom"], 14, 8],
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 15.5, 0.3],
                    "line-translate": ["interpolate", ["linear"], ["zoom"], 14, ["literal", [1, 1]]],
                    "line-translate-anchor": "viewport",
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 14, 4],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["==", ["get", "kind_detail"], "tertiary"],
                    ["!", ["has", "is_link"]],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_tertiary-shadow",
                layout: { "line-join": "round" },
                minzoom: 14,
                paint: {
                    "line-blur": ["interpolate", ["linear"], ["zoom"], 14, 5],
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 14, 0, 14.5, 0.3],
                    "line-translate": ["interpolate", ["linear"], ["zoom"], 14, ["literal", [1.5, 1.5]]],
                    "line-translate-anchor": "viewport",
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 14, 4],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["==", ["get", "kind_detail"], "secondary"],
                    ["!", ["has", "is_link"]],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_primary-secondary-shadow",
                layout: { "line-join": "round" },
                minzoom: 14,
                paint: {
                    "line-blur": ["interpolate", ["linear"], ["zoom"], 14, 8],
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 14, 0, 14.5, 0.3],
                    "line-translate": ["interpolate", ["linear"], ["zoom"], 14, ["literal", [3, 3]]],
                    "line-translate-anchor": "viewport",
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 14, 5],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["match", ["get", "kind_detail"], ["motorway", "trunk", "primary"], true, false],
                    ["!", ["has", "is_link"]],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_motorway-trunk-shadow",
                layout: { "line-join": "round" },
                minzoom: 13,
                paint: {
                    "line-blur": ["interpolate", ["linear"], ["zoom"], 14, 8],
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 13, 0, 13.5, 0.3],
                    "line-translate": ["interpolate", ["linear"], ["zoom"], 14, ["literal", [3, 3]]],
                    "line-translate-anchor": "viewport",
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 14, 5],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    [
                        "any",
                        ["==", ["get", "kind_detail"], "service"],
                        [
                            "all",
                            ["==", ["get", "kind_detail"], "residential"],
                            ["==", ["get", "private"], true],
                        ],
                    ],
                    ["==", ["get", "kind"], "minor_road"],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_service-casing",
                layout: { "line-join": "round" },
                minzoom: 15,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 15, 2],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 15.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 0.8],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["match", ["get", "kind"], ["minor_road", "unclassified", "track"], true, false],
                    ["!=", ["get", "kind_detail"], "service"],
                    ["!=", ["get", "private"], true],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_minor-casing",
                layout: { "line-join": "round" },
                minzoom: 14.5,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 13.5, 1, 15, 3],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 14.5, 0, 15, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 14.5, 0.8],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["==", ["get", "kind_detail"], "tertiary"],
                    ["has", "is_link"],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_tertiary-link-casing",
                layout: { "line-join": "round" },
                minzoom: 14.5,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 11, 0.6, 12, 1, 14, 2],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 14.5, 0, 15, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 0.6],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["==", ["get", "kind_detail"], "secondary"],
                    ["has", "is_link"],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_primary-link-casing",
                layout: { "line-join": "round" },
                minzoom: 12,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 11, 1, 14, 2.5],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 12, 0, 12.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 0.5],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["has", "is_link"],
                    ["match", ["get", "kind_detail"], ["motorway", "trunk", "primary"], true, false],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_motorway-trunk-link-casing",
                layout: { "line-join": "round" },
                minzoom: 13.5,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 8, 0.7, 10, 1, 11, 1.25, 14, 2.5],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 13.5, 0, 14, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 13, 0.4],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["==", ["get", "kind_detail"], "tertiary"],
                    ["!", ["has", "is_link"]],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_tertiary-casing",
                layout: { "line-join": "round" },
                minzoom: 14.5,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 10, 0.6, 12, 1, 14, 3],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 14.5, 0, 15, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 14, 1.125, 15, 1.5],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["==", ["get", "kind_detail"], "secondary"],
                    ["!", ["has", "is_link"]],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_primary-casing",
                layout: { "line-join": "round" },
                minzoom: 12,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 9, 0.8, 11, 1.25, 12, 2, 14, 4],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 12, 0, 12.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 13, 1, 15, 1.5],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["match", ["get", "kind_detail"], ["motorway", "trunk", "primary"], true, false],
                    ["!", ["has", "is_link"]],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_motorway-trunk-casing",
                layout: { "line-join": "round" },
                minzoom: 12,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-gap-width": ["interpolate", ["linear"], ["zoom"], 7, 0.7, 9, 0.8, 11, 2, 14, 5],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 8, 0.5, 13, 0.6, 15, 1.5],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind"], "path"],
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["!", ["has", "footway"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_path-under",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 13,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 15.5, 1],
                    "line-width": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1.5,
                        14,
                        1.875,
                        15,
                        2.25,
                        16,
                        2.625,
                    ],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind"], "path"],
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["!", ["has", "footway"]],
                    true,
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_path",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 15,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-dasharray": [0.03, 1.75],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 15.5, 1],
                    "line-width": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        13,
                        1,
                        14,
                        1.25,
                        15,
                        1.5,
                        16,
                        1.75,
                    ],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    [
                        "any",
                        ["==", ["get", "kind_detail"], "service"],
                        [
                            "all",
                            ["==", ["get", "kind_detail"], "residential"],
                            ["==", ["get", "private"], true],
                        ],
                    ],
                    ["==", ["get", "kind"], "minor_road"],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_service",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 15,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 15, 0, 15.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 2],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["match", ["get", "kind"], ["minor_road", "unclassified", "track"], true, false],
                    ["!=", ["get", "kind_detail"], "service"],
                    ["!=", ["get", "private"], true],
                    ["!", ["has", "is_tunnel"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_minor",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 12,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 12.5, 0, 13, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 13.5, 1, 15, 3],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["==", ["get", "kind_detail"], "tertiary"],
                    ["has", "is_link"],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_tertiary-link",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 11,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 11.5, 0, 12, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 11, 0.6, 12, 1, 14, 2],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["==", ["get", "kind_detail"], "secondary"],
                    ["has", "is_link"],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_primary-link",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 11,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 11, 0, 11.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 11, 1, 14, 2.5],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["has", "is_link"],
                    ["match", ["get", "kind_detail"], ["motorway", "trunk", "primary"], true, false],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_motorway-trunk-link",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 8,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 8, 0, 8.5, 1],
                    "line-width": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        8,
                        0.7,
                        10,
                        1,
                        11,
                        1.25,
                        14,
                        2.5,
                    ],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["==", ["get", "kind_detail"], "tertiary"],
                    ["!", ["has", "is_link"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_tertiary",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 10,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 10, 0, 10.5, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 10, 0.6, 12, 1, 14, 3],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["==", ["get", "kind_detail"], "secondary"],
                    ["!", ["has", "is_link"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_primary",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 8,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 8.5, 0, 9, 1],
                    "line-width": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        9,
                        0.8,
                        11,
                        1.25,
                        12,
                        2,
                        14,
                        4,
                    ],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["any", ["has", "is_bridge"], [">", ["get", "z_level"], 0]],
                    ["match", ["get", "kind_detail"], ["motorway", "trunk", "primary"], true, false],
                    ["!", ["has", "is_link"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "bridge_motorway-trunk",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 11,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-width": [
                        "interpolate",
                        ["exponential", 1.5],
                        ["zoom"],
                        7,
                        0.7,
                        9,
                        0.8,
                        11,
                        2,
                        14,
                        5,
                    ],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["match", ["get", "kind"], ["transit", "rail"], true, false],
                    ["has", "is_bridge"],
                    ["!", ["has", "service"]],
                    [
                        "case",
                        ["all", ["has", "kind_detail"], ["==", ["get", "kind_detail"], "disused"]],
                        false,
                        true,
                    ],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "rail_bridge",
                layout: { "line-join": "round" },
                minzoom: 11,
                paint: {
                    "line-color": "hsl(0, 0%, 86%)",
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 11.5, 0, 12, 1],
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 15, 1],
                },
                source: "aws",
                "source-layer": "roads",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["match", ["get", "kind"], ["region", "macroregion"], true, false],
                    ["match", ["to-number", ["get", "kind_detail"]], [3, 4], true, false],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "admin_region",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 2,
                paint: {
                    "line-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        3,
                        "hsl(0, 0%, 78%)",
                        7,
                        "hsl(0, 0%, 68%)",
                    ],
                    "line-width": ["interpolate", ["linear"], ["zoom"], 7, 0.75, 12, 1.5, 16, 2],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 2, 0, 3, 1],
                    "line-dasharray": ["step", ["zoom"], ["literal", [2, 0]], 7, ["literal", [2, 2, 6, 2]]],
                },
                source: "aws",
                "source-layer": "boundaries",
                type: "line",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind"], "country"],
                    ["==", ["to-number", ["get", "kind_detail"]], 2],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "admin_country",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 1,
                paint: {
                    "line-color": "hsl(0, 0%, 62%)",
                    "line-width": ["interpolate", ["exponential", 1.3], ["zoom"], 1, 0.5, 6, 3, 15, 5],
                },
                source: "aws",
                "source-layer": "boundaries",
                type: "line",
            },
            {
                filter: [
                    "all",
                    [
                        "match",
                        ["get", "kind"],
                        [
                            "disputed",
                            "disputed_claim",
                            "disputed_reference_line",
                            "line_of_control",
                            "indefinite",
                            "indeterminate",
                            "lease_limit",
                        ],
                        true,
                        false,
                    ],
                    ["!=", ["get", "kind"], "unrecognized_disputed"],
                    ["match", ["to-number", ["get", "kind_detail"]], [3, 4], true, false],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "admin_region-disputed-mask",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 1,
                paint: {
                    "line-color": "hsl(0, 0%, 84%)",
                    "line-width": ["interpolate", ["exponential", 1.5], ["zoom"], 2, 1, 6, 1.5, 15, 3],
                },
                source: "aws",
                "source-layer": "boundaries",
                type: "line",
            },
            {
                filter: [
                    "all",
                    [
                        "match",
                        ["get", "kind"],
                        [
                            "disputed",
                            "disputed_claim",
                            "disputed_reference_line",
                            "line_of_control",
                            "indefinite",
                            "indeterminate",
                            "lease_limit",
                        ],
                        true,
                        false,
                    ],
                    ["!=", ["get", "kind"], "unrecognized_disputed"],
                    ["match", ["to-number", ["get", "kind_detail"]], [3, 4], true, false],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "admin_region-disputed",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 2,
                paint: {
                    "line-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        3,
                        "hsl(0, 0%, 78%)",
                        7,
                        "hsl(0, 0%, 68%)",
                    ],
                    "line-dasharray": [1, 2.5],
                    "line-width": ["interpolate", ["linear"], ["zoom"], 7, 0.75, 12, 1.5, 16, 2],
                    "line-opacity": ["interpolate", ["linear"], ["zoom"], 2, 0, 3, 1],
                },
                source: "aws",
                "source-layer": "boundaries",
                type: "line",
            },
            {
                filter: [
                    "all",
                    [
                        "match",
                        ["get", "kind"],
                        [
                            "disputed",
                            "disputed_claim",
                            "disputed_reference_line",
                            "line_of_control",
                            "indefinite",
                            "indeterminate",
                            "lease_limit",
                        ],
                        true,
                        false,
                    ],
                    ["!=", ["get", "kind"], "unrecognized_disputed"],
                    ["==", ["to-number", ["get", "kind_detail"]], 2],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "admin_country-disputed-mask",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 1,
                paint: {
                    "line-color": "hsl(0, 0%, 62%)",
                    "line-width": ["interpolate", ["exponential", 1.3], ["zoom"], 1, 0.5, 6, 3, 15, 5],
                },
                source: "aws",
                "source-layer": "boundaries",
                type: "line",
            },
            {
                filter: [
                    "all",
                    [
                        "match",
                        ["get", "kind"],
                        [
                            "disputed",
                            "disputed_claim",
                            "disputed_reference_line",
                            "line_of_control",
                            "indefinite",
                            "indeterminate",
                            "lease_limit",
                        ],
                        true,
                        false,
                    ],
                    ["!=", ["get", "kind"], "unrecognized_disputed"],
                    ["==", ["to-number", ["get", "kind_detail"]], 2],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "admin_country-disputed",
                layout: { "line-cap": "round", "line-join": "round" },
                minzoom: 1,
                paint: {
                    "line-color": "hsl(0, 0%, 62%)",
                    "line-dasharray": [
                        "step",
                        ["zoom"],
                        ["literal", [1, 4]],
                        5,
                        ["literal", [1.5, 2.5]],
                        8,
                        ["literal", [2.5, 3]],
                    ],
                    "line-width": ["interpolate", ["exponential", 1.3], ["zoom"], 1, 0.5, 6, 3, 15, 5],
                },
                source: "aws",
                "source-layer": "boundaries",
                type: "line",
            },
            {
                filter: [
                    "all",
                    [
                        "step",
                        ["zoom"],
                        ["<", ["to-number", ["get", "display_class"]], 5],
                        9,
                        ["<", ["to-number", ["get", "display_class"]], 7],
                        10,
                        ["<", ["to-number", ["get", "display_class"]], 8],
                        13,
                        true,
                    ],
                    [
                        "match",
                        ["get", "kind"],
                        ["reef", "riverbank", "fountain", "playa", "river"],
                        false,
                        true,
                    ],
                    ["!=", ["get", "name"], "Pool"],
                    ["==", ["geometry-type"], "Point"],
                ],
                id: "waterlabel_point",
                layout: {
                    "symbol-sort-key": ["to-number", ["get", "display_class"]],
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Regular,Noto Sans Regular"],
                    "text-letter-spacing": 0.1,
                    "text-line-height": 1,
                    "text-max-width": 5,
                    "text-padding": 40,
                    "text-size": ["interpolate", ["linear"], ["zoom"], 12, 10, 16, 12],
                },
                minzoom: 0,
                paint: {
                    "text-color": "hsl(195, 45%, 40%)",
                    "text-opacity": 0.9,
                    "text-halo-color": "hsl(0, 0%, 100%)",
                    "text-halo-width": 2,
                    "text-halo-blur": 1,
                },
                source: "aws",
                "source-layer": "water",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    ["!", ["has", "is_tunnel"]],
                    ["!", ["has", "intermittent"]],
                    ["match", ["get", "kind"], ["reef", "riverbank", "fountain", "playa"], false, true],
                    ["case", ["has", "name:en"], true, ["has", "name"], true, false],
                    [
                        "case",
                        ["<=", ["length", ["coalesce", ["get", "name:en"], ["get", "name"]]], 20],
                        true,
                        false,
                    ],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "waterlabel_line",
                layout: {
                    "symbol-placement": "line",
                    "symbol-spacing": 500,
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Regular,Noto Sans Regular"],
                    "text-letter-spacing": 0.3,
                    "text-size": ["interpolate", ["linear"], ["zoom"], 12, 10, 16, 12],
                },
                minzoom: 12,
                paint: {
                    "text-color": "hsl(195, 45%, 40%)",
                    "text-opacity": 0.9,
                    "text-halo-color": "hsl(0, 0%, 100%)",
                    "text-halo-width": 2,
                    "text-halo-blur": 1,
                },
                source: "aws",
                "source-layer": "water",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind"], "minor_road"],
                    [
                        "any",
                        ["==", ["get", "kind_detail"], "service"],
                        [
                            "all",
                            ["==", ["get", "kind_detail"], "residential"],
                            ["==", ["get", "private"], true],
                        ],
                    ],
                    ["!", ["has", "is_link"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "roadlabel_service",
                layout: {
                    "symbol-placement": "line",
                    "symbol-spacing": 700,
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Condensed RC Regular,Noto Sans Regular"],
                    "text-max-angle": 40,
                    "text-offset": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        13,
                        ["literal", [0, -0.3]],
                        14,
                        ["literal", [0, 0.02]],
                    ],
                    "text-padding": 1,
                    "text-pitch-alignment": "viewport",
                    "text-size": ["interpolate", ["linear"], ["zoom"], 15, 8],
                },
                minzoom: 15.25,
                paint: {
                    "text-color": "hsl(0, 1%, 32%)",
                    "text-halo-blur": 0.75,
                    "text-halo-color": "hsl(0, 0%, 100%)",
                    "text-halo-width": 2,
                },
                source: "aws",
                "source-layer": "roads",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind"], "minor_road"],
                    ["!=", ["get", "kind_detail"], "service"],
                    ["!=", ["get", "private"], true],
                    ["!", ["has", "is_link"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "roadlabel_small",
                layout: {
                    "symbol-placement": "line",
                    "symbol-spacing": 300,
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Condensed RC Regular,Noto Sans Regular"],
                    "text-max-angle": 40,
                    "text-offset": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        13,
                        ["literal", [0, -0.3]],
                        14,
                        ["literal", [0, 0.02]],
                    ],
                    "text-padding": 1,
                    "text-pitch-alignment": "viewport",
                    "text-size": ["interpolate", ["linear"], ["zoom"], 13, 8],
                    "text-transform": "uppercase",
                },
                minzoom: 13,
                paint: {
                    "text-color": "hsl(0, 1%, 32%)",
                    "text-halo-blur": 0.75,
                    "text-halo-color": "hsl(0, 0%, 100%)",
                    "text-halo-width": 2,
                },
                source: "aws",
                "source-layer": "roads",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    [
                        "step",
                        ["zoom"],
                        ["match", ["get", "kind_detail"], ["primary", "secondary"], true, false],
                        10.25,
                        ["match", ["get", "kind_detail"], ["primary", "secondary", "tertiary"], true, false],
                    ],
                    ["!", ["has", "is_link"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "roadlabel_medium",
                layout: {
                    "symbol-placement": "line",
                    "symbol-spacing": 300,
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Condensed RC Regular,Noto Sans Regular"],
                    "text-max-angle": 40,
                    "text-offset": [0, 0.05],
                    "text-padding": 1,
                    "text-pitch-alignment": "viewport",
                    "text-size": ["interpolate", ["linear"], ["zoom"], 12, 9],
                    "text-transform": "uppercase",
                },
                minzoom: 9,
                paint: {
                    "text-color": "hsl(0, 1%, 32%)",
                    "text-halo-blur": 0.75,
                    "text-halo-color": "hsl(0, 0%, 100%)",
                    "text-halo-width": 1,
                },
                source: "aws",
                "source-layer": "roads",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    ["match", ["get", "kind_detail"], ["motorway", "trunk"], true, false],
                    ["!", ["has", "is_link"]],
                    ["==", ["geometry-type"], "LineString"],
                ],
                id: "roadlabel_large",
                layout: {
                    "symbol-placement": "line",
                    "symbol-spacing": 300,
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Condensed RC Bold,Noto Sans Bold"],
                    "text-max-angle": 40,
                    "text-offset": [0, 0.05],
                    "text-padding": 1,
                    "text-pitch-alignment": "viewport",
                    "text-size": ["interpolate", ["linear"], ["zoom"], 12, 10],
                    "text-transform": "uppercase",
                },
                minzoom: 8,
                paint: {
                    "text-color": "hsl(0, 0%, 25%)",
                    "text-halo-blur": 0.75,
                    "text-halo-color": "hsl(0, 0%, 100%)",
                    "text-halo-width": 1.25,
                },
                source: "aws",
                "source-layer": "roads",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind"], "reservation"],
                    [">=", ["zoom"], ["to-number", ["get", "minzoom"]]],
                ],
                id: "label_reservation",
                layout: {
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Condensed RC Bold,Noto Sans Bold"],
                    "text-line-height": 1,
                    "text-max-width": 5,
                    "text-padding": 50,
                    "text-size": ["interpolate", ["linear"], ["zoom"], 14, 10, 16, 11],
                },
                minzoom: 8,
                paint: {
                    "text-color": "hsl(0, 0%, 42%)",
                    "text-halo-blur": 0.5,
                    "text-halo-color": "hsl(0, 0%, 100%)",
                    "text-halo-width": 1.25,
                },
                source: "aws",
                "source-layer": "landuse",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    [
                        "match",
                        ["get", "kind"],
                        ["park", "cemetery", "garden", "zoo", "golf_course"],
                        true,
                        false,
                    ],
                    [">=", ["zoom"], ["to-number", ["get", "min_zoom"]]],
                    ["==", ["geometry-type"], "Point"],
                ],
                id: "poi_landuse_park_lowzoom",
                layout: {
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Condensed RC Bold,Noto Sans Bold"],
                    "text-line-height": 1,
                    "text-max-width": 4,
                    "text-padding": 40,
                    "text-size": ["interpolate", ["linear"], ["zoom"], 14, 10, 16, 11],
                },
                metadata: {
                    layerControls: [
                        {
                            id: "all-pois-visibility",
                            property: "remove",
                            values: [
                                { name: "on", value: false },
                                { name: "off", value: true },
                            ],
                        },
                        {
                            id: "poi_landuse_park-visibility",
                            label: "Park",
                            property: "remove",
                            values: [
                                { name: "on", value: false },
                                { name: "off", value: true },
                            ],
                        },
                    ],
                },
                minzoom: 14,
                paint: {
                    "text-color": [
                        "case",
                        ["match", ["get", "kind"], ["sports_centre", "cemetery"], true, false],
                        "hsl(213, 10%, 39%)",
                        "hsl(147, 32%, 44%)",
                    ],
                    "text-halo-blur": 0.5,
                    "text-halo-color": "hsl(60, 33%, 98%)",
                    "text-halo-width": 1.25,
                },
                source: "aws",
                "source-layer": "landuse",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    [
                        "match",
                        ["get", "kind"],
                        ["park", "cemetery", "garden", "zoo", "golf_course"],
                        true,
                        false,
                    ],
                    [">=", ["zoom"], ["to-number", ["get", "min_zoom"]]],
                    ["==", ["geometry-type"], "Point"],
                ],
                id: "poi_landuse_park",
                layout: {
                    "icon-image": ["case", ["==", ["get", "kind"], "cemetery"], "cemetery", "park"],
                    "text-anchor": "top",
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Condensed RC Bold,Noto Sans Bold"],
                    "text-line-height": 1,
                    "text-offset": [0, 1.5],
                    "text-size": ["interpolate", ["linear"], ["zoom"], 14, 10, 16, 11],
                },
                metadata: {
                    layerControls: [
                        {
                            id: "all-pois-visibility",
                            property: "remove",
                            values: [
                                { name: "on", value: false },
                                { name: "off", value: true },
                            ],
                        },
                        {
                            id: "poi_landuse_park-visibility",
                            label: "Park",
                            property: "remove",
                            values: [
                                { name: "on", value: false },
                                { name: "off", value: true },
                            ],
                        },
                    ],
                },
                minzoom: 16,
                paint: {
                    "text-color": [
                        "case",
                        ["==", ["get", "kind"], "cemetery"],
                        "hsl(213, 10%, 39%)",
                        "hsl(147, 32%, 44%)",
                    ],
                    "text-halo-blur": 0.5,
                    "text-halo-color": "hsl(60, 33%, 98%)",
                    "text-halo-width": 1.25,
                },
                source: "aws",
                "source-layer": "landuse",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    [
                        "match",
                        ["get", "kind"],
                        ["hospital", "university", "commercial", "industrial", "harbour", "military"],
                        true,
                        false,
                    ],
                    ["==", ["geometry-type"], "Point"],
                ],
                id: "poi_landuse_public_complex",
                layout: {
                    "icon-image": [
                        "match",
                        ["get", "kind"],
                        "hospital",
                        "hospital",
                        "commercial",
                        "shopping",
                        "university",
                        "education",
                        "marker",
                    ],
                    "text-anchor": "top",
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Condensed RC Bold,Noto Sans Bold"],
                    "text-line-height": 1,
                    "text-offset": [0, 1.5],
                    "text-size": ["interpolate", ["linear"], ["zoom"], 14, 10, 16, 11],
                },
                metadata: {
                    layerControls: [
                        {
                            id: "all-pois-visibility",
                            property: "remove",
                            values: [
                                { name: "on", value: false },
                                { name: "off", value: true },
                            ],
                        },
                        {
                            id: "poi_landuse_public_complex-visibility",
                            label: "Public Complex",
                            property: "remove",
                            values: [
                                { name: "on", value: false },
                                { name: "off", value: true },
                            ],
                        },
                    ],
                },
                minzoom: 14,
                paint: {
                    "text-color": [
                        "match",
                        ["get", "kind"],
                        "hospital",
                        "hsl(354, 54%, 62%)",
                        "university",
                        "hsl(40, 60%, 33%)",
                        "hsl(213, 10%, 39%)",
                    ],
                    "text-halo-blur": 0.5,
                    "text-halo-color": "hsl(60, 33%, 98%)",
                    "text-halo-width": 1.25,
                },
                source: "aws",
                "source-layer": "landuse",
                type: "symbol",
            },
            {
                filter: ["all", ["==", ["get", "kind"], "national_park"], ["has", "name"]],
                id: "natl_parklabel_lowzoom",
                layout: {
                    "symbol-sort-key": ["-", ["get", "sort_rank"]],
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Condensed RC Bold,Noto Sans Bold"],
                    "text-line-height": 1,
                    "text-max-width": 6,
                    "text-size": ["interpolate", ["linear"], ["zoom"], 14, 10, 16, 11],
                },
                maxzoom: 14,
                minzoom: 8,
                paint: {
                    "text-color": "hsl(147, 32%, 44%)",
                    "text-halo-blur": 0.5,
                    "text-halo-color": "hsl(60, 33%, 98%)",
                    "text-halo-width": 1.25,
                },
                source: "aws",
                "source-layer": "landuse",
                type: "symbol",
            },
            {
                filter: ["all", ["==", ["get", "kind"], "national_park"], ["has", "name"]],
                id: "natl_parklabel",
                layout: {
                    "icon-image": "nature",
                    "icon-size": 0.85,
                    "symbol-sort-key": ["-", ["get", "sort_rank"]],
                    "text-anchor": "top",
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Condensed RC Bold,Noto Sans Bold"],
                    "text-line-height": 1,
                    "text-offset": [0, 1.25],
                    "text-size": ["interpolate", ["linear"], ["zoom"], 14, 10, 16, 11],
                },
                minzoom: 14,
                paint: {
                    "text-color": "hsl(147, 32%, 44%)",
                    "text-halo-blur": 0.5,
                    "text-halo-color": "hsl(60, 33%, 98%)",
                    "text-halo-width": 1.25,
                },
                source: "aws",
                "source-layer": "landuse",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    ["==", ["get", "kind"], "airport"],
                    ["has", "name:short"],
                    [
                        "step",
                        ["zoom"],
                        [
                            "case",
                            ["==", ["get", "kind_detail"], "international"],
                            true,
                            ["==", ["get", "kind_detail"], "regional"],
                            true,
                            ["has", "has_national_importance"],
                            true,
                            false,
                        ],
                        12,
                        true,
                    ],
                    ["==", ["geometry-type"], "Point"],
                ],
                id: "airportlabel",
                layout: {
                    "icon-anchor": "top",
                    "icon-image": "airport",
                    "icon-rotation-alignment": "viewport",
                    "symbol-sort-key": [
                        "case",
                        ["has", "kind_detail"],
                        0,
                        ["has", "has_national_importance"],
                        0,
                        1,
                    ],
                    "text-anchor": "bottom",
                    "text-field": [
                        "step",
                        ["zoom"],
                        ["get", "name:short"],
                        13,
                        [
                            "concat",
                            ["coalesce", ["get", "name:en"], ["get", "name"]],
                            " (",
                            ["get", "name:short"],
                            ")",
                        ],
                    ],
                    "text-font": ["Amazon Ember Condensed RC Bold,Noto Sans Bold"],
                    "text-line-height": 1,
                    "text-max-width": 4,
                    "text-offset": [0, 0],
                    "text-size": ["interpolate", ["linear"], ["zoom"], 10, 12, 14, 12, 16, 16],
                },
                minzoom: 10,
                paint: {
                    "text-color": "hsl(0, 0%, 42%)",
                    "text-halo-blur": 0.8,
                    "text-halo-color": "hsl(0, 0%, 100%)",
                    "text-halo-width": 1,
                },
                source: "aws",
                "source-layer": "pois",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    [
                        "all",
                        ["!=", ["get", "kind"], "unrecognized_region"],
                        ["==", ["get", "kind"], "region"],
                    ],
                    ["==", ["geometry-type"], "Point"],
                ],
                id: "adminlabel_region",
                layout: {
                    "icon-allow-overlap": true,
                    "icon-ignore-placement": true,
                    "text-field": [
                        "step",
                        ["zoom"],
                        ["get", "name:short"],
                        4,
                        ["coalesce", ["get", "name:en"], ["get", "name"]],
                    ],
                    "text-font": ["Amazon Ember Condensed RC Bold,Noto Sans Bold"],
                    "text-letter-spacing": ["interpolate", ["linear"], ["zoom"], 3.75, 0.25, 6.5, 0.3],
                    "text-line-height": 1,
                    "text-max-width": 8,
                    "text-size": ["interpolate", ["linear"], ["zoom"], 4, 11, 6, 14, 8, 18],
                    "text-transform": "uppercase",
                },
                maxzoom: 8,
                minzoom: 3.75,
                paint: {
                    "text-color": "hsl(60, 1%, 52%)",
                    "text-halo-color": "hsla(0, 0%, 98%, 0.5)",
                    "text-halo-width": ["interpolate", ["linear"], ["zoom"], 3, 1, 6, 2],
                },
                source: "aws",
                "source-layer": "places",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    [
                        "step",
                        ["zoom"],
                        [
                            "match",
                            ["get", "kind_detail"],
                            ["city", "locality", "town", "village", "hamlet", "borough"],
                            true,
                            false,
                        ],
                        12.5,
                        ["match", ["get", "kind"], ["neighbourhood", "borough", "macrohood"], true, false],
                    ],
                    [
                        "all",
                        [
                            "match",
                            ["get", "kind"],
                            ["unrecognized_locality", "unrecognized_borough"],
                            false,
                            true,
                        ],
                        ["match", ["get", "kind"], ["neighbourhood", "borough", "macrohood"], true, false],
                    ],
                    ["!", ["has", "population"]],
                    ["==", ["geometry-type"], "Point"],
                ],
                id: "placelabel_locality_settlement_small",
                layout: {
                    "symbol-sort-key": ["get", "min_zoom"],
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Condensed RC Bold,Noto Sans Bold"],
                    "text-line-height": 1,
                    "text-max-width": 8,
                    "text-padding": 100,
                    "text-size": ["interpolate", ["linear"], ["zoom"], 12, 11, 15, 15],
                    "text-transform": "uppercase",
                },
                minzoom: 12,
                paint: {
                    "text-color": "hsl(0, 0%, 42%)",
                    "text-halo-blur": 0.75,
                    "text-halo-color": "hsl(0, 0%, 100%)",
                    "text-halo-width": 1.25,
                },
                source: "aws",
                "source-layer": "places",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    [
                        "match",
                        ["get", "kind_detail"],
                        ["city", "locality", "town", "village", "hamlet"],
                        true,
                        false,
                    ],
                    [
                        "all",
                        ["!=", ["get", "kind"], "unrecognized_locality"],
                        ["==", ["get", "kind"], "locality"],
                    ],
                    ["<", ["get", "population"], 100000],
                    [
                        "step",
                        ["zoom"],
                        [">=", ["get", "population"], 50000],
                        8,
                        [">=", ["get", "population"], 35000],
                        10,
                        [">=", ["get", "population"], 10000],
                        11,
                        [">=", ["get", "population"], 5000],
                        12,
                        [">=", ["get", "population"], 1000],
                    ],
                    ["==", ["geometry-type"], "Point"],
                ],
                id: "placelabel_locality_settlement",
                layout: {
                    "icon-anchor": ["case", [">=", ["get", "population"], 1200000], "top", "center"],
                    "icon-image": [
                        "step",
                        ["zoom"],
                        ["case", ["has", "country_capital"], "citydot-open", "citydot"],
                        8,
                        [
                            "case",
                            ["all", ["has", "country_capital"], [">", ["get", "population"], 100000]],
                            "citydot-open",
                            ["all", ["has", "country_capital"], ["==", ["get", "population"], 100000]],
                            "citydot-open_lowrank",
                            [">", ["get", "population"], 100000],
                            "citydot",
                            "citydot_lowrank",
                        ],
                    ],
                    "symbol-sort-key": ["*", -1, ["get", "population"]],
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Regular,Noto Sans Regular"],
                    "text-justify": "auto",
                    "text-line-height": 1,
                    "text-padding": 8,
                    "text-radial-offset": 0.1,
                    "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        9,
                        11,
                        10,
                        ["case", [">=", ["get", "population"], 20000], 13, 11],
                        11,
                        [
                            "case",
                            [">=", ["get", "population"], 20000],
                            14,
                            [">=", ["get", "population"], 10000],
                            13,
                            [">=", ["get", "population"], 5000],
                            12,
                            11,
                        ],
                        14,
                        ["case", [">=", ["get", "population"], 20000], 15, 13],
                    ],
                    "text-variable-anchor": [
                        "step",
                        ["zoom"],
                        ["literal", ["bottom", "bottom-right", "bottom-left", "top-left", "top-right"]],
                        9,
                        ["literal", ["center"]],
                    ],
                },
                minzoom: 7,
                paint: {
                    "icon-opacity": ["interpolate", ["linear"], ["zoom"], 3, 1, 8.5, 1, 9, 0],
                    "text-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        10,
                        "hsl(213, 14%, 28%)",
                        12.5,
                        "hsl(213, 10%, 19%)",
                        15,
                        "hsl(213, 14%, 28%)",
                    ],
                    "text-halo-blur": 0.25,
                    "text-halo-color": "hsl(0, 0%, 100%)",
                    "text-halo-width": ["case", [">=", ["get", "population"], 10000], 1.25, 1],
                },
                source: "aws",
                "source-layer": "places",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    [
                        "all",
                        ["!=", ["get", "kind"], "unrecognized_locality"],
                        ["==", ["get", "kind"], "locality"],
                    ],
                    [
                        "step",
                        ["zoom"],
                        [">=", ["get", "population"], 1000000],
                        4,
                        [">=", ["get", "population"], 300000],
                        5,
                        [">=", ["get", "population"], 150000],
                        6,
                        [">=", ["get", "population"], 100000],
                        7,
                        [">=", ["get", "population"], 50000],
                    ],
                    ["==", ["geometry-type"], "Point"],
                ],
                id: "placelabel_locality_city",
                layout: {
                    "icon-anchor": ["case", [">=", ["get", "population"], 1200000], "top", "center"],
                    "icon-image": [
                        "step",
                        ["zoom"],
                        ["case", ["has", "country_capital"], "citydot-open", "citydot"],
                        8,
                        [
                            "case",
                            ["all", ["has", "country_capital"], [">", ["get", "population"], 100000]],
                            "citydot-open",
                            ["all", ["has", "country_capital"], ["==", ["get", "population"], 100000]],
                            "citydot-open_lowrank",
                            [">", ["get", "population"], 100000],
                            "citydot",
                            "citydot_lowrank",
                        ],
                    ],
                    "symbol-sort-key": ["*", -1, ["get", "population"]],
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": [
                        "step",
                        ["zoom"],
                        ["literal", ["Amazon Ember Bold,Noto Sans Bold"]],
                        4,
                        [
                            "case",
                            [">=", ["get", "population"], 1200000],
                            ["literal", ["Amazon Ember Bold,Noto Sans Bold"]],
                            ["literal", ["Amazon Ember Medium,Noto Sans Medium"]],
                        ],
                        6,
                        [
                            "case",
                            [">=", ["get", "population"], 400000],
                            ["literal", ["Amazon Ember Bold,Noto Sans Bold"]],
                            ["literal", ["Amazon Ember Medium,Noto Sans Medium"]],
                        ],
                        8,
                        [
                            "case",
                            [">=", ["get", "population"], 400000],
                            ["literal", ["Amazon Ember Bold,Noto Sans Bold"]],
                            [">=", ["get", "population"], 200000],
                            ["literal", ["Amazon Ember Medium,Noto Sans Medium"]],
                            ["literal", ["Amazon Ember Regular,Noto Sans Regular"]],
                        ],
                        9,
                        [
                            "case",
                            [">=", ["get", "population"], 400000],
                            ["literal", ["Amazon Ember Bold,Noto Sans Bold"]],
                            ["literal", ["Amazon Ember Medium,Noto Sans Medium"]],
                        ],
                    ],
                    "text-justify": "auto",
                    "text-line-height": 1,
                    "text-radial-offset": ["case", [">=", ["get", "population"], 1200000], 0.4, 0.6],
                    "text-size": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        4,
                        ["case", [">=", ["get", "population"], 5000000], 11, 10],
                        6,
                        [
                            "case",
                            [">=", ["get", "population"], 5000000],
                            15,
                            [">=", ["get", "population"], 1000000],
                            13,
                            10,
                        ],
                        8,
                        [
                            "case",
                            [">=", ["get", "population"], 5000000],
                            17,
                            [">=", ["get", "population"], 1000000],
                            15,
                            [">=", ["get", "population"], 200000],
                            13,
                            11,
                        ],
                        13,
                        [
                            "case",
                            [">=", ["get", "population"], 5000000],
                            23,
                            [">=", ["get", "population"], 1000000],
                            21,
                            [">=", ["get", "population"], 200000],
                            19,
                            14,
                        ],
                    ],
                    "text-variable-anchor": [
                        "step",
                        ["zoom"],
                        ["literal", ["bottom", "bottom-right", "bottom-left", "top-left", "top-right"]],
                        9,
                        ["literal", ["center"]],
                    ],
                },
                maxzoom: 14,
                minzoom: 3,
                paint: {
                    "icon-opacity": ["interpolate", ["linear"], ["zoom"], 3, 1, 8.5, 1, 9, 0],
                    "text-color": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        6,
                        "hsl(213, 10%, 19%)",
                        8,
                        [
                            "case",
                            [">", ["get", "population"], 100000],
                            "hsl(213, 10%, 19%)",
                            "hsl(213, 14%, 28%)",
                        ],
                        9,
                        [
                            "case",
                            [">", ["get", "population"], 100000],
                            "hsl(213, 10%, 19%)",
                            "hsl(213, 14%, 28%)",
                        ],
                        12.5,
                        "hsl(213, 14%, 28%)",
                    ],
                    "text-halo-blur": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        6,
                        0.5,
                        8,
                        ["case", [">=", ["get", "population"], 1200000], 2, 0.5],
                    ],
                    "text-halo-color": "hsl(0, 0%, 100%)",
                    "text-halo-width": [
                        "interpolate",
                        ["linear"],
                        ["zoom"],
                        6,
                        0.8,
                        8,
                        ["case", [">=", ["coalesce", ["get", "population"], 0], 1200000], 2, 1.25],
                    ],
                },
                source: "aws",
                "source-layer": "places",
                type: "symbol",
            },
            {
                filter: [
                    "all",
                    [
                        "all",
                        ["!=", ["get", "kind"], "unrecognized_country"],
                        ["==", ["get", "kind"], "country"],
                    ],
                    [
                        "step",
                        ["zoom"],
                        ["<=", ["get", "min_zoom"], 1],
                        2,
                        ["<=", ["get", "min_zoom"], 3],
                        3,
                        ["!", ["in", ["get", "iso_code"], ["literal", ["MB", "UN"]]]],
                        7,
                        true,
                    ],
                    ["==", ["geometry-type"], "Point"],
                ],
                id: "adminlabel_country",
                layout: {
                    "symbol-sort-key": ["-", 20, ["get", "population_rank"]],
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Condensed RC Bold,Noto Sans Bold"],
                    "text-letter-spacing": 0.2,
                    "text-line-height": 1,
                    "text-max-width": 8,
                    "text-padding": 3,
                    "text-size": ["interpolate", ["linear"], ["zoom"], 1, 7, 2, 8.5, 4, 11, 6, 15],
                    "text-transform": "uppercase",
                },
                maxzoom: 8,
                minzoom: 1,
                paint: {
                    "text-color": "hsl(60, 3%, 38%)",
                    "text-halo-blur": 1,
                    "text-halo-color": "hsla(0, 0%, 98%, 0.5)",
                    "text-halo-width": ["interpolate", ["linear"], ["zoom"], 1, 1, 4, 2],
                },
                source: "aws",
                "source-layer": "places",
                type: "symbol",
            },
            {
                filter: ["all", ["==", ["get", "kind"], "continent"], ["==", ["geometry-type"], "Point"]],
                id: "adminlabel_continent",
                layout: {
                    "text-field": ["coalesce", ["get", "name:en"], ["get", "name"]],
                    "text-font": ["Amazon Ember Condensed RC Regular,Noto Sans Regular"],
                    "text-letter-spacing": 0.2,
                    "text-line-height": 1,
                    "text-padding": 3,
                    "text-size": 14,
                    "text-transform": "uppercase",
                },
                maxzoom: 2,
                minzoom: 0,
                paint: {
                    "text-color": "hsl(60, 3%, 38%)",
                    "text-halo-blur": 1,
                    "text-halo-color": "hsla(0, 0%, 98%, 0.5)",
                    "text-halo-width": ["interpolate", ["linear"], ["zoom"], 1, 1, 4, 2],
                },
                source: "aws",
                "source-layer": "earth",
                type: "symbol",
            },
        ],
    };
};
